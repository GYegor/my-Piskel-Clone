!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var r=(o=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=a.sources.map(function(t){return"/*# sourceURL=".concat(a.sourceRoot).concat(t," */")});return[n].concat(i).concat([r]).join("\n")}var o,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var o=0;o<t.length;o++){var s=t[o];null!=s[0]&&a[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){var a,r,i={},o=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=a.apply(this,arguments)),r}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var a=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}}(),l=null,d=0,c=[],h=n(34);function u(t,e){for(var n=0;n<t.length;n++){var a=t[n],r=i[a.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](a.parts[o]);for(;o<a.parts.length;o++)r.parts.push(b(a.parts[o],e))}else{var s=[];for(o=0;o<a.parts.length;o++)s.push(b(a.parts[o],e));i[a.id]={id:a.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r],o=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}function m(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=c[c.length-1];if("top"===t.insertAt)a?a.nextSibling?n.insertBefore(e,a.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertAt.before,n);n.insertBefore(e,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var a=function(){0;return n.nc}();a&&(t.attrs.nonce=a)}return v(e,t.attrs),m(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,a,r,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var o=d++;n=l||(l=g(e)),a=S.bind(null,n,o,!1),r=S.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),m(t,e),e}(e),a=function(t,e,n){var a=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(a=h(a));r&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([a],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),a=function(t,e){var n=e.css,a=e.media;a&&t.setAttribute("media",a);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){p(n)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return u(n,e),function(t){for(var a=[],r=0;r<n.length;r++){var o=n[r];(s=i[o.id]).refs--,a.push(s)}t&&u(f(t,e),e);for(r=0;r<a.length;r++){var s;if(0===(s=a[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var y,w=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function S(t,e,n,a){var r=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var i=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectToolHandler=function(t){switch([...document.querySelector(".drawing-tools-container").children].forEach(t=>t.classList.remove("tools-toggle")),document.querySelector(".work-canvas").classList.remove("activate"),document.querySelector(".work-canvas").classList.remove("move-cursor"),t.target){case document.querySelector(".pen-tool-button"):document.querySelector(".pen-tool-button").classList.add("tools-toggle");break;case document.querySelector(".eraser-tool-button"):document.querySelector(".eraser-tool-button").classList.add("tools-toggle");break;case document.querySelector(".bucket-tool-button"):document.querySelector(".bucket-tool-button").classList.add("tools-toggle");break;case document.querySelector(".eye-dropper-tool-button"):document.querySelector(".eye-dropper-tool-button").classList.add("tools-toggle");break;case document.querySelector(".vertical-mirror-tool-button"):document.querySelector(".vertical-mirror-tool-button").classList.add("tools-toggle");break;case document.querySelector(".dithering-tool-button"):document.querySelector(".dithering-tool-button").classList.add("tools-toggle");break;case document.querySelector(".line-tool-button"):document.querySelector(".line-tool-button").classList.add("tools-toggle"),document.querySelector(".work-canvas").classList.add("activate");break;case document.querySelector(".ellipse-tool-button"):document.querySelector(".ellipse-tool-button").classList.add("tools-toggle"),document.querySelector(".work-canvas").classList.add("activate");break;case document.querySelector(".rect-tool-button"):document.querySelector(".rect-tool-button").classList.add("tools-toggle"),document.querySelector(".work-canvas").classList.add("activate");break;case document.querySelector(".move-tool-button"):document.querySelector(".move-tool-button").classList.add("tools-toggle"),document.querySelector(".work-canvas").classList.add("activate"),document.querySelector(".work-canvas").classList.add("move-cursor");break;case document.querySelector(".change-color-tool-button"):document.querySelector(".change-color-tool-button").classList.add("tools-toggle")}},e.aplyCanvasImageDrawer=function(t,e,n,a){const r=new Image;t&&(r.src=t,r.addEventListener("load",()=>{e.drawImage(r,0,0,n,a)}))},e.toLStorage=function(t,e,n){return 3===`${n}`.length?`${t}${e.join("")}${n}`:`${t}${e.join("")}0${n}`},e.fromLStorage=function(t){const e=t,n=+e.slice(-3),a=e.slice(0,-3).split("data:image/png;base64,").map(t=>`data:image/png;base64,${t}`);a.shift();const r=a.shift();return{dataUrls:a,size:n,zoom:384/n,emptyCanvas:r}},e.rgbToHex=function(t,e,n){return`#${`000000${(t<<16|e<<8|n).toString(16)}`.slice(-6)}`},e.hexToRgba=function(t){const e=parseInt(t.substring(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e,a:255}}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,n){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)r(n,a)&&(t[a]=n[a])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,a,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+a),r);else for(var i=0;i<a;i++)t[r+i]=e[n+i]},flattenChunks:function(t){var e,n,a,r,i,o;for(a=0,e=0,n=t.length;e<n;e++)a+=t[e].length;for(o=new Uint8Array(a),r=0,e=0,n=t.length;e<n;e++)i=t[e],o.set(i,r),r+=i.length;return o}},o={arraySet:function(t,e,n,a,r){for(var i=0;i<a;i++)t[r+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(90);var a=n(2);e.default=class{constructor(){this.undoRedoTooltoDom=null,this.editorState=null,this.undoHandlerBound=this.undoHandler.bind(this),this.redoHandlerBound=this.redoHandler.bind(this)}renderUndoRedoToolAt(t){this.undoRedoTooltoDom=document.createElement("div"),this.undoRedoTooltoDom.classList.add("undo-redo-tool"),this.undoRedoTooltoDom.innerHTML='<div class="undo"></div><div class="redo"></div>',t.appendChild(this.undoRedoTooltoDom)}toStepStorage10(t){this.editorState=t;const e=this.editorState.prevStepCache10,n=this.editorState.mainCanvas;e.length>this.editorState.cacheStep?(e.splice(this.editorState.cacheStep),e.push(n.toDataURL())):10===e.length?(e.shift(),e.push(n.toDataURL())):e.push(n.toDataURL()),this.editorState.cacheStep=e.length,this.editorState.cacheStep>1&&!document.querySelector(".undo").classList.contains("active")&&document.querySelector(".undo").classList.add("active")}undoHandler(t){t.preventDefault();const e=document.querySelector('.frame[data-is-active="1"]').dataset.curFrameNum,n=this.editorState.prevStepCache10,{ctx:r}=this.editorState,{activeFrameCtx:i}=this.editorState,o=this.editorState.mainCanvasWidth;1!==this.editorState.cacheStep&&(this.editorState.cacheStep-=1,r.imageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,this.editorState.dataUrls[e-1]=n[this.editorState.cacheStep-1],r.clearRect(0,0,o,o),(0,a.aplyCanvasImageDrawer)(n[this.editorState.cacheStep-1],r,o,o),i.clearRect(0,0,96,96),(0,a.aplyCanvasImageDrawer)(n[this.editorState.cacheStep-1],i,96,96),1===this.editorState.cacheStep&&document.querySelector(".undo").classList.remove("active"),this.editorState.cacheStep<n.length&&!document.querySelector(".redo").classList.contains("active")&&document.querySelector(".redo").classList.add("active"))}redoHandler(t){t.preventDefault();const e=document.querySelector('.frame[data-is-active="1"]').dataset.curFrameNum,n=this.editorState.prevStepCache10,{ctx:r}=this.editorState,{activeFrameCtx:i}=this.editorState,o=this.editorState.mainCanvasWidth;this.editorState.cacheStep!==n.length&&(this.editorState.cacheStep+=1,r.imageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,this.editorState.dataUrls[e-1]=n[this.editorState.cacheStep-1],r.clearRect(0,0,o,o),(0,a.aplyCanvasImageDrawer)(n[this.editorState.cacheStep-1],r,o,o),i.clearRect(0,0,96,96),(0,a.aplyCanvasImageDrawer)(n[this.editorState.cacheStep-1],i,96,96),this.editorState.cacheStep===n.length&&document.querySelector(".redo").classList.remove("active"),this.editorState.cacheStep>1&&!document.querySelector(".undo").classList.contains("active")&&document.querySelector(".undo").classList.add("active"))}setHandlersWith(t){this.editorState=t,document.querySelector(".undo").addEventListener("mouseup",this.undoHandlerBound),document.querySelector(".redo").addEventListener("mouseup",this.redoHandlerBound)}}},function(t,e){t.exports="assets/images/canvas-background.png"},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";t.exports=function(t,e,n,a){for(var r=65535&t|0,i=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(r=r+e[a++]|0)|0}while(--o);r%=65521,i%=65521}return r|i<<16|0}},function(t,e,n){"use strict";var a=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var i=a,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var a=n(4),r=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var o=new a.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,r,i,o,s=t.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new a.Buf8(l),o=0,i=0;o<l;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new a.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,a,r,i,s=e||t.length,d=new Array(2*s);for(a=0,n=0;n<s;)if((r=t[n++])<128)d[a++]=r;else if((i=o[r])>4)d[a++]=65533,n+=i-1;else{for(r&=2===i?31:3===i?15:7;i>1&&n<s;)r=r<<6|63&t[n++],i--;i>1?d[a++]=65533:r<65536?d[a++]=r:(r-=65536,d[a++]=55296|r>>10&1023,d[a++]=56320|1023&r)}return l(d,a)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+o[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){(function(n){var a,r,i;r=[],void 0===(i="function"==typeof(a=function(){"use strict";function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){o(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,o){var s=i.URL||i.webkitURL,l=document.createElement("a");n=n||t.name||"download",l.download=n,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?r(l):a(l.href)?e(t,n,o):r(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){r(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(a(t))e(t,n,i);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){r(o)})}}:function(t,n,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var o="application/octet-stream"===t.type,s=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&s)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},d.readAsDataURL(t)}else{var c=i.URL||i.webkitURL,h=c.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});i.saveAs=o.saveAs=o,t.exports=o})?a.apply(e,r):a)||(t.exports=i)}).call(this,n(69))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(87);e.default=class{constructor(t){this.parent=t,this.ditheringToolBtn=null,this.tempCanv=null,this.tempCanvCtx=null}renderAt(t){this.ditheringToolBtn=document.createElement("button"),this.ditheringToolBtn.classList.add("dithering-tool-button"),t.appendChild(this.ditheringToolBtn)}ditheringCanvWith(t){this.tempCanv=document.createElement("canvas"),this.tempCanv.width=t.mainCanvasWidth,this.tempCanv.height=t.mainCanvasHeight,this.tempCanvCtx=this.tempCanv.getContext("2d"),this.tempCanvCtx.fillStyle=t.leftBtnColor,this.tempCanvCtx.fillRect(0,0,this.tempCanv.width,this.tempCanv.height),this.tempCanvCtx.fillStyle=t.rightBtnColor;for(let t=0;t<this.tempCanv.width;t+=1)for(let e=0;e<this.tempCanv.width;e+=1)t%2!=e%2&&this.tempCanvCtx.fillRect(t,e,1,1);return this.tempCanv}}},function(t,e,n){"use strict";var a=i(n(16)),r=i(n(38));function i(t){return t&&t.__esModule?t:{default:t}}const o=new a.default,s=new r.default;o.render(),s.adjust()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(17);var a=o(n(35)),r=o(n(36)),i=o(n(37));function o(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(){this.header=a.default,this.main=r.default,this.footer=i.default}render(){const t=document.createElement("header"),e=document.createElement("main"),n=document.createElement("footer");t.innerHTML=this.header,e.innerHTML=this.main,n.innerHTML=this.footer,document.body.appendChild(t),document.body.appendChild(e),document.body.appendChild(n)}}},function(t,e,n){var a=n(18);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3),r=a(n(19)),i=a(n(20)),o=a(n(21)),s=a(n(22)),l=a(n(23)),d=a(n(24)),c=a(n(25)),h=a(n(26)),u=a(n(27)),f=a(n(28)),m=a(n(29)),p=a(n(30)),g=a(n(31)),v=a(n(32)),b=a(n(33));e.push([t.i,"@font-face {\n  font-family: 'Ubuntu Condensed';\n  src: url("+r+") format('truetype');\n}\n\n@font-face {\n  font-family: 'Ubuntu';\n  src: url("+i+") format('truetype');\n}\n\n@font-face {\n  font-family: 'Ubuntu';\n  src: url("+o+") format('truetype');\n  font-style: italic;\n}\n\n@font-face {\n  font-family: 'Ubuntu';\n  src: url("+s+") format('truetype');\n  font-weight: bold;\n}\n\n@font-face {\n  font-family: 'Ubuntu';\n  src: url("+l+") format('truetype');\n  font-weight: bold;\n  font-style: italic;\n}\n\n@font-face {\n  font-family: 'Yoster Island';\n  src: url("+d+") format('truetype');\n}\n\n@font-face {\n  font-family: 'FontAwesome';\n  src: url("+c+") format('opentype');\n}\n\n:root {\n  --dark-grey: #252525;\n  --middle-grey: #3a3a3a;\n  --light-grey: #616161;\n  --pale-grey: #d4d4d4;\n  --bright-red: #ff4a4a;\n  --pale-red: #ff9292;\n  --dark-green: #41b100;\n  --good-green: #7eff33;\n  --pale-green: #ccfccc;\n  --pale-green-arch: #b1f1a5;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  color: var(--dark-grey);\n}\n\nul {\n  display: flex;\n  list-style: none;\n}\n\nselect {\n  outline: 0;\n}\n\nhtml {\n  font-family: 'Ubuntu Condensed', sans-serif;\n  height: 100vh;\n}\n\nh1 {\n  height: 5rem;\n  font-family: 'Yoster Island', sans-serif;\n  color: var(--good-green);\n  text-align: center;\n  line-height: 6rem;\n  font-size: 4rem;\n}\n\nh2 {\n  font-family: 'Yoster Island', sans-serif;\n  font-size: 2.7rem;\n  font-weight: 600;\n  color: #215a00;\n}\n\nh3 {\n  font-family: 'Yoster Island', sans-serif;\n  font-size: 1.5rem;\n  font-weight: 400;\n  color: #338b00;\n}\n\np, li, a {\n  color: #113000;\n  font-size: 1rem;\n  font-weight: 600;\n  margin-left: 1rem;\n  margin-right: 1rem;\n}\n\nbody {\n  position: relative;\n  background-color: #252525;\n  height: 100%;\n}\n\nbutton {\n  padding: 0;\n  border: none;\n  outline: none;\n}\n\nmain {\n  position: relative;\n  background-color: #77db77;\n  height: calc(100% - 10rem);\n  text-align: center;\n}\n\nheader {\n  height: 8rem;\n  background-color: var(--dark-green);\n}\n\n.app-name2 {\n  text-align: center;\n}\n\n.btn-vegs-wrapper {\n  position: absolute;\n  width: 100%;\n  height: 10rem;\n  top: 0;\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n}\n\n.clover {\n  margin-top: 0.5rem;\n  background-image: url("+h+");\n  padding-top: 2rem;\n  width: 128px;\n  height: 128px;\n}\n\n\n.carrot {\n  margin-top: 0.5rem;\n  background-image: url("+u+");\n  padding-top: 2rem;\n  width: 128px;\n  height: 128px;\n}\n\n\n.launch-editor {\n  align-self: center;\n  font-family: 'Yoster Island', sans-serif;\n  font-size: 3rem;\n  left: calc(100vw/2 - 200px);\n  display: inline-block;\n  width: 400px;\n  height: 100px;\n\n  color: #cc4200;\n  text-decoration: none;\n  text-shadow: 0 -1px 2px rgba(0, 0, 0, .2);\n  padding: .5em 1em;\n  outline: none;\n  border-radius: 1px;\n  background: linear-gradient(#ccffaf, #6fce39) #ccffaf;\n  box-shadow:\n    0 1px #ccffaf inset,\n    0 3px 5px #6fce39,\n    0 0 1px 1px #41b100;\n  /* transition: .05s ease-in-out; */\n}\n\n.launch-editor:hover:not(:active) {\n  background: linear-gradient(#6fce39, #41b100) #6fce39;\n  color: var(--good-green);\n}\n\n.launch-editor:active {\n  /* top: 1px; */\n  background: #6fce39;\n  color: #41b100;\n\n  box-shadow:\n    0 0 1px #41b100 inset,\n    0 2px 3px #6fce39 inset,\n    0 1px 1px #ccffaf;\n}\n\n.main-wrapper {\n  position: absolute;\n  top: 10rem;\n  width: 100%;\n  height: calc(100vh - 20rem);\n  overflow: auto;\n  overflow-x: hidden;\n}\n\n.screenshots.h {\n  /* height: 5rem; */\n}\n\n.screenshots.b {\n  display: flex;\n  width: 100vw;\n  height: 250px;\n  justify-content: space-evenly;\n}\n\n.fst {\n  background-image: url("+f+");\n  background-size: contain;\n  padding-top: 2rem;\n  height: 230px;\n  width: 410px;\n}\n\n.scd {\n  background-image: url("+m+");\n  background-size: contain;\n  padding-top: 2rem;\n  height: 230px;\n  width: 410px;\n}\n\n.thrd {\n  background-image: url("+p+");\n  background-size: contain;\n  padding-top: 2rem;\n  height: 230px;\n  width: 410px;\n}\n\n\n.tools-overview {\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  height: 2rem;\n  line-height: 2rem;\n  margin-bottom: 1rem;\n}\n\n\n.animations-examples {\n  display: flex;\n  width: 100%;\n  justify-content: space-evenly;\n  height: 14rem;\n}\n\n.x32x {\n  margin-top: 0.7rem;\n  background-image: url("+g+");\n  background-color: #338b00;\n  width: 128px;\n  height: 128px;\n}\n\n.x64x {\n  margin-top: 0.7rem;\n  background-image: url("+v+");\n  background-color: #338b00;\n  width: 128px;\n  height: 128px;\n}\n\n.x128x {\n  margin-top: 0.7rem;\n  background-image: url("+b+");\n  background-color: #338b00;\n  width: 128px;\n  height: 128px;\n}\n\nfooter {\n  position: absolute;\n  color: var(--pale-green);\n  bottom: 0;\n  height: 2rem;\n  line-height: 2rem;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  background-color: var(--dark-green);\n}\n",""])},function(t,e){t.exports="assets/fonts/UbuntuCondensed-Regular.ttf"},function(t,e){t.exports="assets/fonts/Ubuntu-Regular.ttf"},function(t,e){t.exports="assets/fonts/Ubuntu-Italic.ttf"},function(t,e){t.exports="assets/fonts/Ubuntu-Bold.ttf"},function(t,e){t.exports="assets/fonts/Ubuntu-BoldItalic.ttf"},function(t,e){t.exports="assets/fonts/yoster.ttf"},function(t,e){t.exports="assets/fonts/FontAwesome.otf"},function(t,e){t.exports="assets/images/clover.apng"},function(t,e){t.exports="assets/images/carrot.apng"},function(t,e){t.exports="assets/images/world.png"},function(t,e){t.exports="assets/images/worm-scr.png"},function(t,e){t.exports="assets/images/cat.png"},function(t,e){t.exports="assets/images/flower.gif"},function(t,e){t.exports="assets/images/worm.gif"},function(t,e){t.exports="assets/images/pink.gif"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,a=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:a+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e){t.exports='<h1 class="app-name landing">My Pixel Craft</h1>\n<h2 class="app-name2 landing">Pixel icos editor</h2>\n'},function(t,e){t.exports='  <div class="btn-vegs-wrapper">\n    <div class="anim clover"></div>\n    <button class="launch-editor">Craft it!</button>\n    <div class="anim carrot"></div>\n  </div>\n\n  <div class="main-wrapper">\n    <h3 class="screenshots h">\n      SCREENSHOTS\n    </h3>\n    <ul class="screenshots b">\n      <li class="scsh fst"></li>\n      <li class="scsh scd"></li>\n      <li class="scsh thrd"></li>\n    </ul>\n    <h3>\n      TOOLS-OVERVIEW\n    </h3>\n    <ul class="tools-overview">\n      <li class="select-size">\n        <p>x32___x64___x128___ico</p>\n      </li>\n      <li class="color-pen-size">\n        <p>select_color___select_pen_size</p>\n      </li>\n      <li class="drawing-tools">\n        <p>draw__erase__fill___use_goodies</p>\n      </li>\n      <li class="open-save">\n        <p>save_open___export</p>\n      </li>\n      <li class="art-preview">\n        <p>preview_full_screen</p>\n      </li>\n      <li class="shortcuts">\n        <p>ease_with_shortcuts</p>\n      </li>\n    </ul>\n\n    <h3>\n      ANIMATION SAMPLES\n    </h3>\n    <ul class="animations-examples">\n      <li class="anim x32x"></li>\n      <li class="anim x64x"></li>\n      <li class="anim x128x"></li>\n    </ul>\n  </div>\n'},function(t,e){t.exports='  <ul class="contacts">\n    <li class="name">Yahor Hlushanko</li>\n    <li class="git-hub"><a href="">GYegor</a></li>\n    <li class="email"><a href="http://" target="_blank" rel="noopener noreferrer">yahor2011@gmail.com</a></li>\n  </ul>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=f(n(39));n(40);var r=f(n(42)),i=f(n(46)),o=f(n(49)),s=f(n(55)),l=f(n(70)),d=f(n(73)),c=f(n(76)),h=f(n(135)),u=n(2);function f(t){return t&&t.__esModule?t:{default:t}}let m,p,g;class v{constructor(){this.editor=new c.default,this.customCanvasSize=new r.default,this.clearCanvas=new i.default,this.exportGif=new o.default,this.exportApng=new s.default,this.saveMpc=new l.default,this.openMpc=new d.default,this.controlPanelInDOM=null,this.state=null}static applyDefaultEditor(){document.querySelector(".landing")&&(document.body.removeChild(document.querySelector("header")),document.body.removeChild(document.querySelector("main")),document.body.removeChild(document.querySelector("footer")),document.body.innerHTML=a.default)}static applyCustomEditor(){document.querySelector(".editor").removeChild(document.querySelector(".tools-container")),document.querySelector(".editor").removeChild(document.querySelector(".frame-list-container-scroller")),document.querySelector(".editor").removeChild(document.querySelector(".central-window")),document.querySelector(".editor").removeChild(document.querySelector(".preview-panel"))}renderAt(t){this.customCanvasSize.renderAt(t),this.clearCanvas.renderAt(t),this.saveMpc.renderAt(t),this.openMpc.renderAt(t),this.exportGif.renderAt(t),this.exportApng.renderAt(t)}launchCustomEditor(t){if(cancelAnimationFrame(m.previewRAFid),t.target.classList.contains("canvas-size")){p=t.target.dataset.curValue,m=new h.default(p,384/p),v.applyCustomEditor(),null!==localStorage.getItem(`state${p}`)&&(g=(0,u.fromLStorage)(localStorage.getItem(`state${p}`)),m.dataUrls=g.dataUrls,m.workCanvasWidth=g.size,m.workCanvasHeight=g.size,m.mainCanvasWidth=g.size,m.mainCanvasHeight=g.size,m.canvasZoom=g.zoom,m.emptyCanvas=g.emptyCanvas,m.prevStepCache10[0]=g.dataUrls[0]),this.editor.setNewEditorWith(m),document.querySelector(".default-zoom").innerHTML=`DEFAULT ZOOM X${384/p}`;for(let t=0;t<document.querySelector(".canvas-size-tool").children.length;t+=1)document.querySelector(".canvas-size-tool").children[t].dataset.curValue===`${p}`?(document.querySelector(".canvas-size-tool").children[t].style.borderColor="var(--good-green)",document.querySelector(".canvas-size-tool").children[t].style.color="var(--good-green)"):(document.querySelector(".canvas-size-tool").children[t].style.borderColor="var(--light-grey)",document.querySelector(".canvas-size-tool").children[t].style.color="var(--light-grey)")}}launchEditorWithUserFile(t){cancelAnimationFrame(m.previewRAFid),m=new h.default(t.size,t.zoom),v.applyCustomEditor(),g=t,m.dataUrls=g.dataUrls,m.workCanvasWidth=g.size,m.workCanvasHeight=g.size,m.mainCanvasWidth=g.size,m.mainCanvasHeight=g.size,m.canvasZoom=g.zoom,m.emptyCanvas=g.emptyCanvas,m.prevStepCache10[0]=g.dataUrls[0],this.editor.setNewEditorWith(m),document.querySelector(".default-zoom").innerHTML=`DEFAULT ZOOM X${384/t.size}`;for(let e=0;e<document.querySelector(".canvas-size-tool").children.length;e+=1)document.querySelector(".canvas-size-tool").children[e].dataset.curValue===`${t.size}`?(document.querySelector(".canvas-size-tool").children[e].style.borderColor="var(--good-green)",document.querySelector(".canvas-size-tool").children[e].style.color="var(--good-green)"):(document.querySelector(".canvas-size-tool").children[e].style.borderColor="var(--light-grey)",document.querySelector(".canvas-size-tool").children[e].style.color="var(--light-grey)")}newCustomCanvas(t){cancelAnimationFrame(m.previewRAFid),localStorage.removeItem(`state${p}`),v.applyCustomEditor(),t.target.classList.contains("clear-canvas")&&(m=new h.default(p,384/p),this.editor.setNewEditorWith(m),document.querySelector(".default-zoom").innerHTML=`DEFAULT ZOOM X${384/p}`)}launchDefaultEditor(){m=new h.default(32,12),p=m.mainCanvasWidth,v.applyDefaultEditor(),this.renderAt(document.querySelector(".control-panel")),null!==localStorage.getItem("state32")&&(g=(0,u.fromLStorage)(localStorage.getItem("state32")),m.dataUrls=g.dataUrls,m.workCanvasWidth=g.size,m.workCanvasHeight=g.size,m.mainCanvasWidth=g.size,m.mainCanvasHeight=g.size,m.canvasZoom=g.zoom,m.emptyCanvas=g.emptyCanvas,m.prevStepCache10[0]=g.dataUrls[0]),this.editor.setNewEditorWith(m),document.querySelector(".canvas-size-tool").addEventListener("click",this.launchCustomEditor.bind(this)),document.querySelector(".clear-canvas").addEventListener("click",this.newCustomCanvas.bind(this)),document.querySelector(".export-gif").addEventListener("click",this.downloadGif.bind(this)),document.querySelector(".export-apng").addEventListener("click",this.downloadApng.bind(this)),document.querySelector(".save-mpc").addEventListener("click",this.downloadMpc.bind(this)),document.querySelector(".my-file").addEventListener("change",this.loadMpc.bind(this))}downloadGif(){this.exportGif.animatedGif(m),document.querySelector(".export-gif").removeEventListener("click",this.downloadGif.bind(this))}downloadApng(){this.exportApng.createApng(m),document.querySelector(".export-apng").removeEventListener("click",this.downloadGif.bind(this))}downloadMpc(){this.saveMpc.saveMpc(m),document.querySelector(".save-mpc").removeEventListener("click",this.downloadMpc.bind(this))}loadMpc(){const t=this.openMpc.openMpcFile();let e,n;const a=new FileReader;a.addEventListener("load",()=>{e=a.result,n=JSON.parse(e),this.launchEditorWithUserFile(n)}),a.readAsText(t),document.querySelector(".my-file").removeEventListener("change",this.loadMpc.bind(this))}adjust(){document.querySelector(".launch-editor").addEventListener("click",this.launchDefaultEditor.bind(this))}}e.default=v},function(t,e){t.exports='<h1 class="editor-name">My Pixel Craft</h1>\n<div class="control-panel"></div>\n<div class="editor"></div>\n'},function(t,e,n){var a=n(41);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".editor-name {\n  width: 100%;\n  height: 1.8rem;\n  line-height: 1.9rem;\n  text-align: left;\n  padding-left: 30px;\n  color: var(--bright-red);\n  background-color: var(--middle-grey);\n  font-size: 21px;\n  font-weight: 400;\n}\n\n.control-panel {\n  box-sizing: border-box;\n  position: relative;\n  width: 100%;\n  height: 1.2rem;\n  background-color: var(--middle-grey);\n}\n\n.editor {\n  width: 100%;\n  height: calc(100vh - 3rem);\n  background-color: var(--dark-grey);\n  display: flex;\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=(a=n(43))&&a.__esModule?a:{default:a};n(44);e.default=class{constructor(){this.content=r.default,this.editorState=null,this.customCanvasSizeToolToDOM=null,this.clearCanvasToolToDOM=null}renderAt(t){this.customCanvasSizeToolToDOM=document.createElement("div"),this.customCanvasSizeToolToDOM.classList.add("canvas-size-tool"),this.customCanvasSizeToolToDOM.innerHTML=this.content,t.appendChild(this.customCanvasSizeToolToDOM)}}},function(t,e){t.exports='  <div class="canvas-size x32 toggle" data-cur-value="32">32x32</div>\n  <div class="canvas-size x64" data-cur-value="64">64x64</div>\n  <div class="canvas-size x128" data-cur-value="128">128x128</div>\n\n'},function(t,e,n){var a=n(45);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".control-panel {\n  display: flex;\n}\n\n.canvas-size-tool {\n  margin-left: 5px;\n  display: flex;\n  justify-content: space-between;\n  width: 223px;\n}\n\n.canvas-size {\n  margin: 1px;\n  width: 70px;\n  height: 1rem;\n  text-align: center;\n  color: var(--light-grey);\n  font-size: 14px;\n  line-height: 0.8rem;\n  border: 2px solid var(--light-grey);\n  background-color: var(--dark-grey);\n}\n\n.canvas-size.x32 {\n  color: var(--good-green);\n  border: 2px solid var(--good-green);\n}\n\n.canvas-size:hover {\n  cursor: pointer;\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(47);e.default=class{constructor(){this.clearCanvasToolToDOM=null,this.editor=null,this.controls=null}renderAt(t){this.clearCanvasToolToDOM=document.createElement("button"),this.clearCanvasToolToDOM.classList.add("clear-canvas"),t.appendChild(this.clearCanvasToolToDOM)}}},function(t,e,n){var a=n(48);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.clear-canvas {\n  margin: 1px;\n  position: absolute;\n  right: 7px;\n  bottom: -90vh;\n  height: 1.2rem;\n  width: 1rem;\n  color: var(--light-grey);\n  background-color: var(--dark-grey);\n}\n\n.clear-canvas::before {\n  content: "\\f2d4";\n  font-family: FontAwesome;\n  font-size: 1.2rem;\n  line-height: 1.1rem;\n}\n\n.clear-canvas:hover {\n  cursor: pointer;\n  color: var(--bright-red);\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(50);var a=n(52);let r;e.default=class{constructor(){this.exportGifToDom=null,this.size=0}renderAt(t){this.exportGifToDom=document.createElement("div"),this.exportGifToDom.classList.add("export-gif"),this.exportGifToDom.innerHTML="GIF",t.appendChild(this.exportGifToDom)}animatedGif(t){this.size=t.mainCanvasWidth;const e=new a.GIFEncoder;if(0!=(r=+document.querySelector(".select-fps").value)){e.setTransparent(16711680),e.setRepeat(0),e.setDelay(1e3/r),e.start(),e.setSize(this.size,this.size);for(let n=0;n<t.dataUrls.length;n+=1){const a=document.createElement("canvas");a.width=this.size,a.height=this.size;const r=a.getContext("2d"),i=new Image;i.src=t.dataUrls[n],r.imageSmoothingEnabled=!1,r.drawImage(i,0,0,this.size,this.size),e.addFrame(r)}e.finish(),e.download("MyGifCraft.gif")}}}},function(t,e,n){var a=n(51);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".export-gif {\n  margin-right: 5px;\n  margin-top: 1px;\n  width: 24px;\n  height: 1rem;\n  text-align: center;\n  position: absolute;\n  right: 0;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  font-size: 14px;\n  line-height: 0.8rem;\n  border: 2px solid var(--light-grey);\n}\n\n.export-gif:hover {\n  border: 2px solid var(--good-green);\n  color: var(--good-green);\n  cursor: pointer;\n}\n\n.export-gif:active {\n  border: 2px solid var(--bright-red);\n  color: var(--bright-red);\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GIFEncoder=function(){for(var t=0,e={};t<256;t++)e[t]=String.fromCharCode(t);function n(){this.bin=[]}n.prototype.getData=function(){for(var t="",n=this.bin.length,a=0;a<n;a++)t+=e[this.bin[a]];return t},n.prototype.writeByte=function(t){this.bin.push(t)},n.prototype.writeUTFBytes=function(t){for(var e=t.length,n=0;n<e;n++)this.writeByte(t.charCodeAt(n))},n.prototype.writeBytes=function(t,e,n){for(var a=n||t.length,r=e||0;r<a;r++)this.writeByte(t[r])};var i,o,s,l,d,c,h,u,f,m={},p=null,g=-1,v=0,b=!1,y=[],w=7,S=-1,x=!1,_=!0,C=!1,k=10,T="Generated by jsgif (https://github.com/antimatter15/jsgif/)",z=(m.setDelay=function(t){v=Math.round(t/10)},m.setDispose=function(t){t>=0&&(S=t)},m.setRepeat=function(t){t>=0&&(g=t)},m.setTransparent=function(t){p=t},m.setComment=function(t){T=t},m.addFrame=function(t,e){if(null===t||!b||null===l)throw new Error("Please call start method before calling addFrame");var n=!0;try{e?t instanceof ImageData?(d=t.data,sizeset&&i==t.width&&o==t.height||M(t.width,t.height)):t instanceof Uint8ClampedArray?t.length==i*o*4?d=t:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(d=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,C||M(t.canvas.width,t.canvas.height)),q(),L(),_&&(U(),O(),g>=0&&R()),D(),""!==T&&E(),B(),_||O(),I(),_=!1}catch(t){n=!1}return n},m.download=function(t){if(null===l||0==x)console.log("Please call start method and add frames and call finish method before calling download");else{t=void 0!==t?t.endsWith(".gif")?t:t+".gif":"download.gif";var e=document.createElement("a");e.download=t,e.href=URL.createObjectURL(new Blob([new Uint8Array(l.bin)],{type:"image/gif"})),e.click(),console.log(new Uint8Array(l.bin))}},m.dataUrl=function(){if(null!==l&&0!=x)return URL.createObjectURL(new Blob([new Uint8Array(l.bin)],{type:"image/gif"}));console.log("Please call start method and add frames and call finish method before calling download")},m.finish=function(){if(!b)return!1;var t=!0;b=!1;try{l.writeByte(59),x=!0}catch(e){t=!1}return t},function(){s=0,d=null,c=null,h=null,f=null,x=!1,_=!0}),M=(m.setFrameRate=function(t){15!=t&&(v=Math.round(100/t))},m.setQuality=function(t){t<1&&(t=1),k=t},m.setSize=function(t,e){b&&!_||((i=t)<1&&(i=320),(o=e)<1&&(o=240),C=!0)}),L=(m.start=function(){z();var t=!0;x=!1,l=new n;try{l.writeUTFBytes("GIF89a")}catch(e){t=!1}return b=t},m.cont=function(){z();return x=!1,l=new n,b=!0},function(){var t=c.length,e=t/3;h=[];var n=new r.NeuQuant(c,t,k);f=n.process();for(var a=0,i=0;i<e;i++){var o=n.map(255&c[a++],255&c[a++],255&c[a++]);y[o]=!0,h[i]=o}c=null,u=8,w=7,null!==p&&(s=A(p))}),A=function(t){if(null===f)return-1;for(var e=(16711680&t)>>16,n=(65280&t)>>8,a=255&t,r=0,i=16777216,o=f.length,s=0;s<o;){var l=e-(255&f[s++]),d=n-(255&f[s++]),c=a-(255&f[s]),h=l*l+d*d+c*c,u=s/3;y[u]&&h<i&&(i=h,r=u),s++}return r},q=function(){var t=i,e=o;c=[];for(var n=d,a=0,r=0;r<e;r++)for(var s=0;s<t;s++){var l=r*t*4+4*s;c[a++]=n[l],c[a++]=n[l+1],c[a++]=n[l+2]}},D=function(){var t,e;l.writeByte(33),l.writeByte(249),l.writeByte(4),null===p?(t=0,e=0):(t=1,e=2),S>=0&&(e=7&S),e<<=2,l.writeByte(0|e|t),F(v),l.writeByte(s),l.writeByte(0)},E=function(){l.writeByte(33),l.writeByte(254),l.writeByte(T.length),l.writeUTFBytes(T),l.writeByte(0)},B=function(){l.writeByte(44),F(0),F(0),F(i),F(o),_?l.writeByte(0):l.writeByte(128|w)},U=function(){F(i),F(o),l.writeByte(240|w),l.writeByte(0),l.writeByte(0)},R=function(){l.writeByte(33),l.writeByte(255),l.writeByte(11),l.writeUTFBytes("NETSCAPE2.0"),l.writeByte(3),l.writeByte(1),F(g),l.writeByte(0)},O=function(){l.writeBytes(f);for(var t=768-f.length,e=0;e<t;e++)l.writeByte(0)},F=function(t){l.writeByte(255&t),l.writeByte(t>>8&255)},I=function(){var t=new a.LZWEncoder(i,o,h,u);t.encode(l)};m.stream=function(){return l},m.setProperties=function(t,e){b=t,_=e};return m};var a=n(53),r=n(54)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LZWEncoder=function(){var t,e,n,a,r,i,o,s,l,d,c,h,u={},f=[],m=[],p=0,g=!1,v=0,b=0,y=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],w=[],S=u.LZWEncoder=function(r,i,o,s){t=r,e=i,n=o,a=Math.max(2,s)},x=function(t,e){w[h++]=t,h>=254&&T(e)},_=function(t){C(5003),p=d+2,g=!0,L(d,t)},C=function(t){for(var e=0;e<t;++e)f[e]=-1},k=u.compress=function(t,e){var n,a,r,i,u,v;for(g=!1,s=z(o=l=t),c=(d=1<<t-1)+1,p=d+2,h=0,i=M(),v=0,n=5003;n<65536;n*=2)++v;v=8-v,C(5003),L(d,e);t:for(;-1!=(r=M());)if(n=(r<<12)+i,f[a=r<<v^i]!=n){if(f[a]>=0){u=5003-a,0===a&&(u=1);do{if((a-=u)<0&&(a+=5003),f[a]==n){i=m[a];continue t}}while(f[a]>=0)}L(i,e),i=r,p<4096?(m[a]=p++,f[a]=n):_(e)}else i=m[a];L(i,e),L(c,e)},T=(u.encode=function(n){n.writeByte(a),r=t*e,i=0,k(a+1,n),n.writeByte(0)},function(t){h>0&&(t.writeByte(h),t.writeBytes(w,0,h),h=0)}),z=function(t){return(1<<t)-1},M=function(){if(0===r)return-1;--r;var t=n[i++];return 255&t},L=function(t,e){for(v&=y[b],b>0?v|=t<<b:v=t,b+=o;b>=8;)x(255&v,e),v>>=8,b-=8;if((p>s||g)&&(g?(s=z(o=l),g=!1):s=12==++o?4096:z(o)),t==c){for(;b>0;)x(255&v,e),v>>=8,b-=8;T(e)}};return S.apply(this,arguments),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NeuQuant=function(){var t,e,n,a,r,i={},o=[],s=[],l=[],d=[],c=i.NeuQuant=function(t,i,o){var d,c;for(e=t,n=i,a=o,r=new Array(256),d=0;d<256;d++)r[d]=new Array(4),(c=r[d])[0]=c[1]=c[2]=(d<<12)/256,l[d]=256,s[d]=0},h=(i.map=function(t,e,n){var a,i,s,l,d,c,h;for(d=1e3,h=-1,a=o[e],i=a-1;a<256||i>=0;)a<256&&(c=r[a],(s=c[1]-e)>=d?a=256:(a++,s<0&&(s=-s),(l=c[0]-t)<0&&(l=-l),(s+=l)<d&&((l=c[2]-n)<0&&(l=-l),(s+=l)<d&&(d=s,h=c[3])))),i>=0&&(c=r[i],(s=e-c[1])>=d?i=-1:(i--,s<0&&(s=-s),(l=c[0]-t)<0&&(l=-l),(s+=l)<d&&((l=c[2]-n)<0&&(l=-l),(s+=l)<d&&(d=s,h=c[3]))));return h},i.process=function(){return function(){var r,i,o,s,l,c,h,p,g,v,b,y,w,S;n<1509&&(a=1);t=30+(a-1)/3,y=e,w=0,S=n,v=(b=n/(3*a))/100|0,p=1024,(h=(c=2048)>>6)<=1&&(h=0);for(r=0;r<h;r++)d[r]=p*(256*(h*h-r*r)/(h*h));g=n<1509?3:n%499!=0?1497:n%491!=0?1473:n%487!=0?1461:1509;r=0;for(;r<b;)if(o=(255&y[w+0])<<4,s=(255&y[w+1])<<4,l=(255&y[w+2])<<4,i=m(o,s,l),f(p,i,o,s,l),0!==h&&u(h,i,o,s,l),(w+=g)>=S&&(w-=n),0===v&&(v=1),++r%v==0)for(p-=p/t,(h=(c-=c/30)>>6)<=1&&(h=0),i=0;i<h;i++)d[i]=p*(256*(h*h-i*i)/(h*h))}(),h(),function(){var t,e,n,a,i,s,l,d;for(l=0,d=0,t=0;t<256;t++){for(i=r[t],n=t,a=i[1],e=t+1;e<256;e++)(s=r[e])[1]<a&&(n=e,a=s[1]);if(s=r[n],t!=n&&(e=s[0],s[0]=i[0],i[0]=e,e=s[1],s[1]=i[1],i[1]=e,e=s[2],s[2]=i[2],i[2]=e,e=s[3],s[3]=i[3],i[3]=e),a!=l){for(o[l]=d+t>>1,e=l+1;e<a;e++)o[e]=t;l=a,d=t}}for(o[l]=d+255>>1,e=l+1;e<256;e++)o[e]=255}(),function(){for(var t=[],e=new Array(256),n=0;n<256;n++)e[r[n][3]]=n;for(var a=0,i=0;i<256;i++){var o=e[i];t[a++]=r[o][0],t[a++]=r[o][1],t[a++]=r[o][2]}return t}()},function(){var t;for(t=0;t<256;t++)r[t][0]>>=4,r[t][1]>>=4,r[t][2]>>=4,r[t][3]=t}),u=function(t,e,n,a,i){var o,s,l,c,h,u,f;for((l=e-t)<-1&&(l=-1),(c=e+t)>256&&(c=256),o=e+1,s=e-1,u=1;o<c||s>l;){if(h=d[u++],o<c){f=r[o++];try{f[0]-=h*(f[0]-n)/262144,f[1]-=h*(f[1]-a)/262144,f[2]-=h*(f[2]-i)/262144}catch(t){}}if(s>l){f=r[s--];try{f[0]-=h*(f[0]-n)/262144,f[1]-=h*(f[1]-a)/262144,f[2]-=h*(f[2]-i)/262144}catch(t){}}}},f=function(t,e,n,a,i){var o=r[e];o[0]-=t*(o[0]-n)/1024,o[1]-=t*(o[1]-a)/1024,o[2]-=t*(o[2]-i)/1024},m=function(t,e,n){var a,i,o,d,c,h,u,f,m,p;for(m=f=~(1<<31),u=h=-1,a=0;a<256;a++)p=r[a],(i=p[0]-t)<0&&(i=-i),(o=p[1]-e)<0&&(o=-o),i+=o,(o=p[2]-n)<0&&(o=-o),(i+=o)<f&&(f=i,h=a),(d=i-(s[a]>>12))<m&&(m=d,u=a),c=l[a]>>10,l[a]-=c,s[a]+=c<<10;return l[h]+=64,s[h]-=65536,u};return c.apply(this,arguments),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(56);var a=n(58),r=n(13);const i=document.createElement("canvas").getContext("2d");let o,s,l,d=[];e.default=class{constructor(){this.exportApngToDom=null,this.frameArr=[],this.curFps=0}renderAt(t){this.exportApngToDom=document.createElement("div"),this.exportApngToDom.classList.add("export-apng"),this.exportApngToDom.innerHTML="APNG",t.appendChild(this.exportApngToDom)}createApng(t){if(l=128,this.curFps=+document.querySelector(".select-fps").value,0===this.curFps)return;d=t.dataUrls.map(()=>Math.round(1e3/this.curFps));const e=t.dataUrls.map(t=>{i.clearRect(0,0,128,128),i.imageSmoothingEnabled=!1;const e=new Image;return t&&(e.src=t,i.drawImage(e,0,0,128,128)),(o=i.getImageData(0,0,128,128).data).buffer});s=(0,a.encode)(e,128,128,256,d);const n=new Blob([new Uint8Array(s)],{type:"image/apng",name:"MyPixelCraft.apng"});(0,r.saveAs)(n,"MyPixelCraft.apng")}}},function(t,e,n){var a=n(57);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".export-apng {\n  margin-right: 5px;\n  margin-top: 1px;\n  width: 36px;\n  height: 1rem;\n  text-align: center;\n  position: absolute;\n  right: 29px;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  font-size: 14px;\n  line-height: 0.8rem;\n  border: 2px solid var(--light-grey);\n}\n\n.export-apng:hover {\n  border: 2px solid var(--good-green);\n  color: var(--good-green);\n  cursor: pointer;\n}\n\n.export-apng:active {\n  border: 2px solid var(--bright-red);\n  color: var(--bright-red);\n}\n",""])},function(t,e,n){(function(e){!function(){var e={};t.exports=e,function(t,e){t.toRGBA8=function(e){var n=e.width,a=e.height;if(null==e.tabs.acTL)return[t.toRGBA8.decodeImage(e.data,n,a,e).buffer];var r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i,o=new Uint8Array(n*a*4),s=0;s<e.frames.length;s++){var l=e.frames[s],d=l.rect.x,c=l.rect.y,h=l.rect.width,u=l.rect.height,f=t.toRGBA8.decodeImage(l.data,h,u,e);if(0==s?i=f:0==l.blend?t._copyTile(f,h,u,i,n,a,d,c,0):1==l.blend&&t._copyTile(f,h,u,i,n,a,d,c,1),r.push(i.buffer),i=i.slice(0),0==l.dispose);else if(1==l.dispose)t._copyTile(o,h,u,i,n,a,d,c,0);else if(2==l.dispose){for(var m=s-1;2==e.frames[m].dispose;)m--;i=new Uint8Array(r[m]).slice(0)}}return r},t.toRGBA8.decodeImage=function(e,n,a,r){var i=n*a,o=t.decode._getBPP(r),s=Math.ceil(n*o/8),l=new Uint8Array(4*i),d=new Uint32Array(l.buffer),c=r.ctype,h=r.depth,u=t._bin.readUshort;if(6==c){var f=i<<2;if(8==h)for(var m=0;m<f;m++)l[m]=e[m];if(16==h)for(m=0;m<f;m++)l[m]=e[m<<1]}else if(2==c){var p=r.tabs.tRNS,g=-1,v=-1,b=-1;if(p&&(g=p[0],v=p[1],b=p[2]),8==h)for(m=0;m<i;m++){var y=3*m;l[T=m<<2]=e[y],l[T+1]=e[y+1],l[T+2]=e[y+2],l[T+3]=255,-1!=g&&e[y]==g&&e[y+1]==v&&e[y+2]==b&&(l[T+3]=0)}if(16==h)for(m=0;m<i;m++){y=6*m;l[T=m<<2]=e[y],l[T+1]=e[y+2],l[T+2]=e[y+4],l[T+3]=255,-1!=g&&u(e,y)==g&&u(e,y+2)==v&&u(e,y+4)==b&&(l[T+3]=0)}}else if(3==c){var w=r.tabs.PLTE,S=r.tabs.tRNS,x=S?S.length:0;if(1==h)for(var _=0;_<a;_++){var C=_*s,k=_*n;for(m=0;m<n;m++){var T=k+m<<2,z=3*(M=e[C+(m>>3)]>>7-((7&m)<<0)&1);l[T]=w[z],l[T+1]=w[z+1],l[T+2]=w[z+2],l[T+3]=M<x?S[M]:255}}if(2==h)for(_=0;_<a;_++)for(C=_*s,k=_*n,m=0;m<n;m++){T=k+m<<2,z=3*(M=e[C+(m>>2)]>>6-((3&m)<<1)&3);l[T]=w[z],l[T+1]=w[z+1],l[T+2]=w[z+2],l[T+3]=M<x?S[M]:255}if(4==h)for(_=0;_<a;_++)for(C=_*s,k=_*n,m=0;m<n;m++){T=k+m<<2,z=3*(M=e[C+(m>>1)]>>4-((1&m)<<2)&15);l[T]=w[z],l[T+1]=w[z+1],l[T+2]=w[z+2],l[T+3]=M<x?S[M]:255}if(8==h)for(m=0;m<i;m++){var M;T=m<<2,z=3*(M=e[m]);l[T]=w[z],l[T+1]=w[z+1],l[T+2]=w[z+2],l[T+3]=M<x?S[M]:255}}else if(4==c){if(8==h)for(m=0;m<i;m++){T=m<<2;var L=e[A=m<<1];l[T]=L,l[T+1]=L,l[T+2]=L,l[T+3]=e[A+1]}if(16==h)for(m=0;m<i;m++){var A;T=m<<2,L=e[A=m<<2];l[T]=L,l[T+1]=L,l[T+2]=L,l[T+3]=e[A+2]}}else if(0==c){g=r.tabs.tRNS?r.tabs.tRNS:-1;if(1==h)for(m=0;m<i;m++){var q=(L=255*(e[m>>3]>>7-(7&m)&1))==255*g?0:255;d[m]=q<<24|L<<16|L<<8|L}if(2==h)for(m=0;m<i;m++){q=(L=85*(e[m>>2]>>6-((3&m)<<1)&3))==85*g?0:255;d[m]=q<<24|L<<16|L<<8|L}if(4==h)for(m=0;m<i;m++){q=(L=17*(e[m>>1]>>4-((1&m)<<2)&15))==17*g?0:255;d[m]=q<<24|L<<16|L<<8|L}if(8==h)for(m=0;m<i;m++){q=(L=e[m])==g?0:255;d[m]=q<<24|L<<16|L<<8|L}if(16==h)for(m=0;m<i;m++){L=e[m<<1],q=u(e,m<<1)==g?0:255;d[m]=q<<24|L<<16|L<<8|L}}return l},t.decode=function(e){for(var n,a=new Uint8Array(e),r=8,i=t._bin,o=i.readUshort,s=i.readUint,l={tabs:{},frames:[]},d=new Uint8Array(a.length),c=0,h=0,u=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(a[f]!=u[f])throw"The input is not a PNG file!";for(;r<a.length;){var m=i.readUint(a,r);r+=4;var p=i.readASCII(a,r,4);if(r+=4,"IHDR"==p)t.decode._IHDR(a,r,l);else if("IDAT"==p){for(f=0;f<m;f++)d[c+f]=a[r+f];c+=m}else if("acTL"==p)l.tabs[p]={num_frames:s(a,r),num_plays:s(a,r+4)},n=new Uint8Array(a.length);else if("fcTL"==p){if(0!=h)(C=l.frames[l.frames.length-1]).data=t.decode._decompress(l,n.slice(0,h),C.rect.width,C.rect.height),h=0;var g={x:s(a,r+12),y:s(a,r+16),width:s(a,r+4),height:s(a,r+8)},v=o(a,r+22);v=o(a,r+20)/(0==v?100:v);var b={rect:g,delay:Math.round(1e3*v),dispose:a[r+24],blend:a[r+25]};l.frames.push(b)}else if("fdAT"==p){for(f=0;f<m-4;f++)n[h+f]=a[r+f+4];h+=m-4}else if("pHYs"==p)l.tabs[p]=[i.readUint(a,r),i.readUint(a,r+4),a[r+8]];else if("cHRM"==p){l.tabs[p]=[];for(f=0;f<8;f++)l.tabs[p].push(i.readUint(a,r+4*f))}else if("tEXt"==p){null==l.tabs[p]&&(l.tabs[p]={});var y=i.nextZero(a,r),w=i.readASCII(a,r,y-r),S=i.readASCII(a,y+1,r+m-y-1);l.tabs[p][w]=S}else if("iTXt"==p){null==l.tabs[p]&&(l.tabs[p]={});y=0;var x=r;y=i.nextZero(a,x);w=i.readASCII(a,x,y-x),a[x=y+1],a[x+1];x+=2,y=i.nextZero(a,x);i.readASCII(a,x,y-x);x=y+1,y=i.nextZero(a,x);i.readUTF8(a,x,y-x);x=y+1;S=i.readUTF8(a,x,m-(x-r));l.tabs[p][w]=S}else if("PLTE"==p)l.tabs[p]=i.readBytes(a,r,m);else if("hIST"==p){var _=l.tabs.PLTE.length/3;l.tabs[p]=[];for(f=0;f<_;f++)l.tabs[p].push(o(a,r+2*f))}else if("tRNS"==p)3==l.ctype?l.tabs[p]=i.readBytes(a,r,m):0==l.ctype?l.tabs[p]=o(a,r):2==l.ctype&&(l.tabs[p]=[o(a,r),o(a,r+2),o(a,r+4)]);else if("gAMA"==p)l.tabs[p]=i.readUint(a,r)/1e5;else if("sRGB"==p)l.tabs[p]=a[r];else if("bKGD"==p)0==l.ctype||4==l.ctype?l.tabs[p]=[o(a,r)]:2==l.ctype||6==l.ctype?l.tabs[p]=[o(a,r),o(a,r+2),o(a,r+4)]:3==l.ctype&&(l.tabs[p]=a[r]);else if("IEND"==p){var C;if(0!=h)(C=l.frames[l.frames.length-1]).data=t.decode._decompress(l,n.slice(0,h),C.rect.width,C.rect.height),h=0;l.data=t.decode._decompress(l,d,l.width,l.height);break}r+=m;i.readUint(a,r);r+=4}return delete l.compress,delete l.interlace,delete l.filter,l},t.decode._decompress=function(e,n,a,r){return 0==e.compress&&(n=t.decode._inflate(n)),0==e.interlace?n=t.decode._filterZero(n,e,0,a,r):1==e.interlace&&(n=t.decode._readInterlace(n,e)),n},t.decode._inflate=function(t){return e.inflate(t)},t.decode._readInterlace=function(e,n){for(var a=n.width,r=n.height,i=t.decode._getBPP(n),o=i>>3,s=Math.ceil(a*i/8),l=new Uint8Array(r*s),d=0,c=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],m=0;m<7;){for(var p=u[m],g=f[m],v=0,b=0,y=c[m];y<r;)y+=p,b++;for(var w=h[m];w<a;)w+=g,v++;var S=Math.ceil(v*i/8);t.decode._filterZero(e,n,d,v,b);for(var x=0,_=c[m];_<r;){for(var C=h[m],k=d+x*S<<3;C<a;){var T;if(1==i)T=(T=e[k>>3])>>7-(7&k)&1,l[_*s+(C>>3)]|=T<<7-((3&C)<<0);if(2==i)T=(T=e[k>>3])>>6-(7&k)&3,l[_*s+(C>>2)]|=T<<6-((3&C)<<1);if(4==i)T=(T=e[k>>3])>>4-(7&k)&15,l[_*s+(C>>1)]|=T<<4-((1&C)<<2);if(i>=8)for(var z=_*s+C*o,M=0;M<o;M++)l[z+M]=e[(k>>3)+M];k+=i,C+=g}x++,_+=p}v*b!=0&&(d+=b*(1+S)),m+=1}return l},t.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},t.decode._filterZero=function(e,n,a,r,i){var o=t.decode._getBPP(n),s=Math.ceil(r*o/8),l=t.decode._paeth;o=Math.ceil(o/8);for(var d=0;d<i;d++){var c=a+d*s,h=c+d+1,u=e[h-1];if(0==u)for(var f=0;f<s;f++)e[c+f]=e[h+f];else if(1==u){for(f=0;f<o;f++)e[c+f]=e[h+f];for(f=o;f<s;f++)e[c+f]=e[h+f]+e[c+f-o]&255}else if(0==d){for(f=0;f<o;f++)e[c+f]=e[h+f];if(2==u)for(f=o;f<s;f++)e[c+f]=255&e[h+f];if(3==u)for(f=o;f<s;f++)e[c+f]=e[h+f]+(e[c+f-o]>>1)&255;if(4==u)for(f=o;f<s;f++)e[c+f]=e[h+f]+l(e[c+f-o],0,0)&255}else{if(2==u)for(f=0;f<s;f++)e[c+f]=e[h+f]+e[c+f-s]&255;if(3==u){for(f=0;f<o;f++)e[c+f]=e[h+f]+(e[c+f-s]>>1)&255;for(f=o;f<s;f++)e[c+f]=e[h+f]+(e[c+f-s]+e[c+f-o]>>1)&255}if(4==u){for(f=0;f<o;f++)e[c+f]=e[h+f]+l(0,e[c+f-s],0)&255;for(f=o;f<s;f++)e[c+f]=e[h+f]+l(e[c+f-o],e[c+f-s],e[c+f-o-s])&255}}}return e},t.decode._paeth=function(t,e,n){var a=t+e-n,r=Math.abs(a-t),i=Math.abs(a-e),o=Math.abs(a-n);return r<=i&&r<=o?t:i<=o?e:n},t.decode._IHDR=function(e,n,a){var r=t._bin;a.width=r.readUint(e,n),n+=4,a.height=r.readUint(e,n),n+=4,a.depth=e[n],n++,a.ctype=e[n],n++,a.compress=e[n],n++,a.filter=e[n],n++,a.interlace=e[n],n++},t._bin={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},readUint:function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},readASCII:function(t,e,n){for(var a="",r=0;r<n;r++)a+=String.fromCharCode(t[e+r]);return a},writeASCII:function(t,e,n){for(var a=0;a<n.length;a++)t[e+a]=n.charCodeAt(a)},readBytes:function(t,e,n){for(var a=[],r=0;r<n;r++)a.push(t[e+r]);return a},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(e,n,a){for(var r,i="",o=0;o<a;o++)i+="%"+t._bin.pad(e[n+o].toString(16));try{r=decodeURIComponent(i)}catch(r){return t._bin.readASCII(e,n,a)}return r}},t._copyTile=function(t,e,n,a,r,i,o,s,l){for(var d=Math.min(e,r),c=Math.min(n,i),h=0,u=0,f=0;f<c;f++)for(var m=0;m<d;m++)if(o>=0&&s>=0?(h=f*e+m<<2,u=(s+f)*r+o+m<<2):(h=(-s+f)*e-o+m<<2,u=f*r+m<<2),0==l)a[u]=t[h],a[u+1]=t[h+1],a[u+2]=t[h+2],a[u+3]=t[h+3];else if(1==l){var p=t[h+3]*(1/255),g=t[h]*p,v=t[h+1]*p,b=t[h+2]*p,y=a[u+3]*(1/255),w=a[u]*y,S=a[u+1]*y,x=a[u+2]*y,_=1-p,C=p+y*_,k=0==C?0:1/C;a[u+3]=255*C,a[u+0]=(g+w*_)*k,a[u+1]=(v+S*_)*k,a[u+2]=(b+x*_)*k}else if(2==l){p=t[h+3],g=t[h],v=t[h+1],b=t[h+2],y=a[u+3],w=a[u],S=a[u+1],x=a[u+2];p==y&&g==w&&v==S&&b==x?(a[u]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0):(a[u]=g,a[u+1]=v,a[u+2]=b,a[u+3]=p)}else if(3==l){p=t[h+3],g=t[h],v=t[h+1],b=t[h+2],y=a[u+3],w=a[u],S=a[u+1],x=a[u+2];if(p==y&&g==w&&v==S&&b==x)continue;if(p<220&&y>20)return!1}return!0},t.encode=function(e,n,a,r,i,o){null==r&&(r=0),null==o&&(o=!1);for(var s=new Uint8Array(e[0].byteLength*e.length+100),l=[137,80,78,71,13,10,26,10],d=0;d<8;d++)s[d]=l[d];var c=8,h=t._bin,u=t.crc.crc,f=h.writeUint,m=h.writeUshort,p=h.writeASCII,g=t.encode.compressPNG(e,n,a,r,o);f(s,c,13),p(s,c+=4,"IHDR"),f(s,c+=4,n),f(s,c+=4,a),s[c+=4]=g.depth,s[++c]=g.ctype,s[++c]=0,s[++c]=0,s[++c]=0,f(s,++c,u(s,c-17,17)),f(s,c+=4,1),p(s,c+=4,"sRGB"),s[c+=4]=1,f(s,++c,u(s,c-5,5)),c+=4;var v=e.length>1;if(v&&(f(s,c,8),p(s,c+=4,"acTL"),f(s,c+=4,e.length),f(s,c+=4,0),f(s,c+=4,u(s,c-12,12)),c+=4),3==g.ctype){f(s,c,3*(T=g.plte.length)),p(s,c+=4,"PLTE"),c+=4;for(d=0;d<T;d++){var b=3*d,y=g.plte[d],w=255&y,S=y>>8&255,x=y>>16&255;s[c+b+0]=w,s[c+b+1]=S,s[c+b+2]=x}if(f(s,c+=3*T,u(s,c-3*T-4,3*T+4)),c+=4,g.gotAlpha){f(s,c,T),p(s,c+=4,"tRNS"),c+=4;for(d=0;d<T;d++)s[c+d]=g.plte[d]>>24&255;f(s,c+=T,u(s,c-T-4,T+4)),c+=4}}for(var _=0,C=0;C<g.frames.length;C++){var k=g.frames[C];v&&(f(s,c,26),p(s,c+=4,"fcTL"),f(s,c+=4,_++),f(s,c+=4,k.rect.width),f(s,c+=4,k.rect.height),f(s,c+=4,k.rect.x),f(s,c+=4,k.rect.y),m(s,c+=4,i[C]),m(s,c+=2,1e3),s[c+=2]=k.dispose,s[++c]=k.blend,f(s,++c,u(s,c-30,30)),c+=4);var T,z=k.cimg;f(s,c,(T=z.length)+(0==C?0:4));var M=c+=4;p(s,c,0==C?"IDAT":"fdAT"),c+=4,0!=C&&(f(s,c,_++),c+=4);for(d=0;d<T;d++)s[c+d]=z[d];f(s,c+=T,u(s,M,c-M)),c+=4}return f(s,c,0),p(s,c+=4,"IEND"),f(s,c+=4,u(s,c-4,4)),c+=4,s.buffer.slice(0,c)},t.encode.compressPNG=function(e,n,a,r,i){for(var o=t.encode.compress(e,n,a,r,!1,i),s=0;s<e.length;s++){var l=o.frames[s],d=(l.rect.width,l.rect.height),c=l.bpl,h=l.bpp,u=new Uint8Array(d*c+d);l.cimg=t.encode._filterZero(l.img,d,h,c,u)}return o},t.encode.compress=function(e,n,a,r,i,o){null==o&&(o=!1);for(var s=6,l=8,d=4,c=255,h=0;h<e.length;h++)for(var u=new Uint8Array(e[h]),f=u.length,m=0;m<f;m+=4)c&=u[m+3];var p=255!=c,g={},v=[];if(0!=e.length&&(g[0]=0,v.push(0),0!=r&&r--),0!=r){var b=t.quantize(e,r,i);e=b.bufs;for(m=0;m<b.plte.length;m++){null==g[w=b.plte[m].est.rgba]&&(g[w]=v.length,v.push(w))}}else for(h=0;h<e.length;h++){var y=new Uint32Array(e[h]);for(f=y.length,m=0;m<f;m++){var w=y[m];if((m<n||w!=y[m-1]&&w!=y[m-n])&&null==g[w]&&(g[w]=v.length,v.push(w),v.length>=300))break}}var S=!!p&&i,x=v.length;x<=256&&0==o&&(l=x<=2?1:x<=4?2:x<=16?4:8,i&&(l=8),p=!0);var _=[];for(h=0;h<e.length;h++){var C=new Uint8Array(e[h]),k=new Uint32Array(C.buffer),T=0,z=0,M=n,L=a,A=0;if(0!=h&&!S){for(var q=i||1==h||2==_[_.length-2].dispose?1:2,D=0,E=1e9,B=0;B<q;B++){for(var U=new Uint8Array(e[h-1-B]),R=new Uint32Array(e[h-1-B]),O=n,F=a,I=-1,H=-1,W=0;W<a;W++)for(var Z=0;Z<n;Z++){k[m=W*n+Z]!=R[m]&&(Z<O&&(O=Z),Z>I&&(I=Z),W<F&&(F=W),W>H&&(H=W))}var N=-1==I?1:(I-O+1)*(H-F+1);N<E&&(E=N,D=B,-1==I?(T=z=0,M=L=1):(T=O,z=F,M=I-O+1,L=H-F+1))}U=new Uint8Array(e[h-1-D]);1==D&&(_[_.length-1].dispose=2);var j=new Uint8Array(M*L*4);new Uint32Array(j.buffer);t._copyTile(U,n,a,j,M,L,-T,-z,0),t._copyTile(C,n,a,j,M,L,-T,-z,3)?(t._copyTile(C,n,a,j,M,L,-T,-z,2),A=1):(t._copyTile(C,n,a,j,M,L,-T,-z,0),A=0),C=j,k=new Uint32Array(C.buffer)}var P=4*M;if(x<=256&&0==o){P=Math.ceil(l*M/8);for(j=new Uint8Array(P*L),W=0;W<L;W++){m=W*P;var $=W*M;if(8==l)for(Z=0;Z<M;Z++)j[m+Z]=g[k[$+Z]];else if(4==l)for(Z=0;Z<M;Z++)j[m+(Z>>1)]|=g[k[$+Z]]<<4-4*(1&Z);else if(2==l)for(Z=0;Z<M;Z++)j[m+(Z>>2)]|=g[k[$+Z]]<<6-2*(3&Z);else if(1==l)for(Z=0;Z<M;Z++)j[m+(Z>>3)]|=g[k[$+Z]]<<7-1*(7&Z)}C=j,s=3,d=1}else if(0==p&&1==e.length){j=new Uint8Array(M*L*3);var Y=M*L;for(m=0;m<Y;m++){var G=3*m,X=4*m;j[G]=C[X],j[G+1]=C[X+1],j[G+2]=C[X+2]}C=j,s=2,d=3,P=3*M}_.push({rect:{x:T,y:z,width:M,height:L},img:C,bpl:P,bpp:d,blend:A,dispose:S?1:0})}return{ctype:s,depth:l,plte:v,gotAlpha:p,frames:_}},t.encode._filterZero=function(n,a,r,i,o){for(var s=[],l=0;l<5;l++)if(!(a*i>5e5)||2!=l&&3!=l&&4!=l){for(var d=0;d<a;d++)t.encode._filterLine(o,n,d,i,r,l);if(s.push(e.deflate(o)),1==r)break}for(var c,h=1e9,u=0;u<s.length;u++)s[u].length<h&&(c=u,h=s[u].length);return s[c]},t.encode._filterLine=function(e,n,a,r,i,o){var s=a*r,l=s+a,d=t.decode._paeth;if(e[l]=o,l++,0==o)for(var c=0;c<r;c++)e[l+c]=n[s+c];else if(1==o){for(c=0;c<i;c++)e[l+c]=n[s+c];for(c=i;c<r;c++)e[l+c]=n[s+c]-n[s+c-i]+256&255}else if(0==a){for(c=0;c<i;c++)e[l+c]=n[s+c];if(2==o)for(c=i;c<r;c++)e[l+c]=n[s+c];if(3==o)for(c=i;c<r;c++)e[l+c]=n[s+c]-(n[s+c-i]>>1)+256&255;if(4==o)for(c=i;c<r;c++)e[l+c]=n[s+c]-d(n[s+c-i],0,0)+256&255}else{if(2==o)for(c=0;c<r;c++)e[l+c]=n[s+c]+256-n[s+c-r]&255;if(3==o){for(c=0;c<i;c++)e[l+c]=n[s+c]+256-(n[s+c-r]>>1)&255;for(c=i;c<r;c++)e[l+c]=n[s+c]+256-(n[s+c-r]+n[s+c-i]>>1)&255}if(4==o){for(c=0;c<i;c++)e[l+c]=n[s+c]+256-d(0,n[s+c-r],0)&255;for(c=i;c<r;c++)e[l+c]=n[s+c]+256-d(n[s+c-i],n[s+c-r],n[s+c-i-r])&255}}},t.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,a=0;a<8;a++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(e,n,a,r){for(var i=0;i<r;i++)e=t.crc.table[255&(e^n[a+i])]^e>>>8;return e},crc:function(e,n,a){return 4294967295^t.crc.update(4294967295,e,n,a)}},t.quantize=function(e,n,a){for(var r=[],i=0,o=0;o<e.length;o++)r.push(t.encode.alphaMul(new Uint8Array(e[o]),a)),i+=e[o].byteLength;var s=new Uint8Array(i),l=new Uint32Array(s.buffer),d=0;for(o=0;o<r.length;o++){for(var c=r[o],h=c.length,u=0;u<h;u++)s[d+u]=c[u];d+=h}var f={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};f.bst=t.quantize.stats(s,f.i0,f.i1),f.est=t.quantize.estats(f.bst);for(var m=[f];m.length<n;){var p=0,g=0;for(o=0;o<m.length;o++)m[o].est.L>p&&(p=m[o].est.L,g=o);if(p<.001)break;var v=m[g],b=t.quantize.splitPixels(s,l,v.i0,v.i1,v.est.e,v.est.eMq255),y={i0:v.i0,i1:b,bst:null,est:null,tdst:0,left:null,right:null};y.bst=t.quantize.stats(s,y.i0,y.i1),y.est=t.quantize.estats(y.bst);var w={i0:b,i1:v.i1,bst:null,est:null,tdst:0,left:null,right:null};w.bst={R:[],m:[],N:v.bst.N-y.bst.N};for(o=0;o<16;o++)w.bst.R[o]=v.bst.R[o]-y.bst.R[o];for(o=0;o<4;o++)w.bst.m[o]=v.bst.m[o]-y.bst.m[o];w.est=t.quantize.estats(w.bst),v.left=y,v.right=w,m[g]=y,m.push(w)}m.sort(function(t,e){return e.bst.N-t.bst.N});for(var S=0;S<r.length;S++){var x=t.quantize.planeDst,_=new Uint8Array(r[S].buffer),C=new Uint32Array(r[S].buffer),k=_.length;for(o=0;o<k;o+=4){for(var T=_[o]*(1/255),z=_[o+1]*(1/255),M=_[o+2]*(1/255),L=_[o+3]*(1/255),A=f;A.left;)A=x(A.est,T,z,M,L)<=0?A.left:A.right;C[o>>2]=A.est.rgba}r[S]=C.buffer}return{bufs:r,plte:m}},t.quantize.getNearest=function(e,n,a,r,i){if(null==e.left)return e.tdst=t.quantize.dist(e.est.q,n,a,r,i),e;var o=t.quantize.planeDst(e.est,n,a,r,i),s=e.left,l=e.right;o>0&&(s=e.right,l=e.left);var d=t.quantize.getNearest(s,n,a,r,i);if(d.tdst<=o*o)return d;var c=t.quantize.getNearest(l,n,a,r,i);return c.tdst<d.tdst?c:d},t.quantize.planeDst=function(t,e,n,a,r){var i=t.e;return i[0]*e+i[1]*n+i[2]*a+i[3]*r-t.eMq},t.quantize.dist=function(t,e,n,a,r){var i=e-t[0],o=n-t[1],s=a-t[2],l=r-t[3];return i*i+o*o+s*s+l*l},t.quantize.splitPixels=function(e,n,a,r,i,o){var s=t.quantize.vecDot;r-=4;for(;a<r;){for(;s(e,a,i)<=o;)a+=4;for(;s(e,r,i)>o;)r-=4;if(a>=r)break;var l=n[a>>2];n[a>>2]=n[r>>2],n[r>>2]=l,a+=4,r-=4}for(;s(e,a,i)>o;)a-=4;return a+4},t.quantize.vecDot=function(t,e,n){return t[e]*n[0]+t[e+1]*n[1]+t[e+2]*n[2]+t[e+3]*n[3]},t.quantize.stats=function(t,e,n){for(var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],i=n-e>>2,o=e;o<n;o+=4){var s=t[o]*(1/255),l=t[o+1]*(1/255),d=t[o+2]*(1/255),c=t[o+3]*(1/255);r[0]+=s,r[1]+=l,r[2]+=d,r[3]+=c,a[0]+=s*s,a[1]+=s*l,a[2]+=s*d,a[3]+=s*c,a[5]+=l*l,a[6]+=l*d,a[7]+=l*c,a[10]+=d*d,a[11]+=d*c,a[15]+=c*c}return a[4]=a[1],a[8]=a[2],a[12]=a[3],a[9]=a[6],a[13]=a[7],a[14]=a[11],{R:a,m:r,N:i}},t.quantize.estats=function(e){var n=e.R,a=e.m,r=e.N,i=a[0],o=a[1],s=a[2],l=a[3],d=0==r?0:1/r,c=[n[0]-i*i*d,n[1]-i*o*d,n[2]-i*s*d,n[3]-i*l*d,n[4]-o*i*d,n[5]-o*o*d,n[6]-o*s*d,n[7]-o*l*d,n[8]-s*i*d,n[9]-s*o*d,n[10]-s*s*d,n[11]-s*l*d,n[12]-l*i*d,n[13]-l*o*d,n[14]-l*s*d,n[15]-l*l*d],h=c,u=t.M4,f=[.5,.5,.5,.5],m=0,p=0;if(0!=r)for(var g=0;g<10&&(f=u.multVec(h,f),p=Math.sqrt(u.dot(f,f)),f=u.sml(1/p,f),!(Math.abs(p-m)<1e-9));g++)m=p;var v=[i*d,o*d,s*d,l*d],b=u.dot(u.sml(255,v),f),y=v[3]<.001?0:1/v[3];return{Cov:c,q:v,e:f,L:m,eMq255:b,eMq:u.dot(f,v),rgba:(Math.round(255*v[3])<<24|Math.round(255*v[2]*y)<<16|Math.round(255*v[1]*y)<<8|Math.round(255*v[0]*y)<<0)>>>0}},t.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}},t.encode.alphaMul=function(t,e){for(var n=new Uint8Array(t.length),a=t.length>>2,r=0;r<a;r++){var i=r<<2,o=t[i+3];e&&(o=o<128?0:255);var s=o*(1/255);n[i+0]=t[i+0]*s,n[i+1]=t[i+1]*s,n[i+2]=t[i+2]*s,n[i+3]=o}return n}}(e,n(60))}()}).call(this,n(59))},function(t,e){var n,a,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(t){a=o}}();var l,d=[],c=!1,h=-1;function u(){c&&l&&(c=!1,l.length?d=l.concat(d):h=-1,d.length&&f())}function f(){if(!c){var t=s(u);c=!0;for(var e=d.length;e;){for(l=d,d=[];++h<e;)l&&l[h].run();h=-1,e=d.length}l=null,c=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new m(t,e)),1!==d.length||c||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var a={};(0,n(4).assign)(a,n(61),n(64),n(12)),t.exports=a},function(t,e,n){"use strict";var a=n(62),r=n(4),i=n(10),o=n(7),s=n(11),l=Object.prototype.toString,d=0,c=-1,h=0,u=8;function f(t){if(!(this instanceof f))return new f(t);this.options=r.assign({level:c,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(o[n]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var m;if(m="string"==typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=a.deflateSetDictionary(this.strm,m))!==d)throw new Error(o[n]);this._dict_set=!0}}function m(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}f.prototype.push=function(t,e){var n,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=i.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=a.deflate(s,o))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==o||(this.onEnd(d),s.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=f,e.deflate=m,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,m(t,e)}},function(t,e,n){"use strict";var a,r=n(4),i=n(63),o=n(8),s=n(9),l=n(7),d=0,c=1,h=3,u=4,f=5,m=0,p=1,g=-2,v=-3,b=-5,y=-1,w=1,S=2,x=3,_=4,C=0,k=2,T=8,z=9,M=15,L=8,A=286,q=30,D=19,E=2*A+1,B=15,U=3,R=258,O=R+U+1,F=32,I=42,H=69,W=73,Z=91,N=103,j=113,P=666,$=1,Y=2,G=3,X=4,K=3;function V(t,e){return t.msg=l[e],e}function J(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function at(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,a,r=t.max_chain_length,i=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-O?t.strstart-(t.w_size-O):0,d=t.window,c=t.w_mask,h=t.prev,u=t.strstart+R,f=d[i+o-1],m=d[i+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(d[(n=e)+o]===m&&d[n+o-1]===f&&d[n]===d[i]&&d[++n]===d[i+1]){i+=2,n++;do{}while(d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&d[++i]===d[++n]&&i<u);if(a=R-(u-i),i=u-R,a>o){if(t.match_start=e,o=a,a>=s)break;f=d[i+o-1],m=d[i+o]}}}while((e=h[e&c])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function it(t){var e,n,a,i,l,d,c,h,u,f,m=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-O)){r.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=n=t.hash_size;do{a=t.head[--e],t.head[e]=a>=m?a-m:0}while(--n);e=n=m;do{a=t.prev[--e],t.prev[e]=a>=m?a-m:0}while(--n);i+=m}if(0===t.strm.avail_in)break;if(d=t.strm,c=t.window,h=t.strstart+t.lookahead,u=i,f=void 0,(f=d.avail_in)>u&&(f=u),n=0===f?0:(d.avail_in-=f,r.arraySet(c,d.input,d.next_in,f,h),1===d.state.wrap?d.adler=o(d.adler,c,f,h):2===d.state.wrap&&(d.adler=s(d.adler,c,f,h)),d.next_in+=f,d.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=U)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+U-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<U)););}while(t.lookahead<O&&0!==t.strm.avail_in)}function ot(t,e){for(var n,a;;){if(t.lookahead<O){if(it(t),t.lookahead<O&&e===d)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=U&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-O&&(t.match_length=rt(t,n)),t.match_length>=U)if(a=i._tr_tally(t,t.strstart-t.match_start,t.match_length-U),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=U){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else a=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=t.strstart<U-1?t.strstart:U-1,e===u?(et(t,!0),0===t.strm.avail_out?G:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}function st(t,e){for(var n,a,r;;){if(t.lookahead<O){if(it(t),t.lookahead<O&&e===d)return $;if(0===t.lookahead)break}if(n=0,t.lookahead>=U&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=U-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-O&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===w||t.match_length===U&&t.strstart-t.match_start>4096)&&(t.match_length=U-1)),t.prev_length>=U&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-U,a=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-U),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+U-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=U-1,t.strstart++,a&&(et(t,!1),0===t.strm.avail_out))return $}else if(t.match_available){if((a=i._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return $}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<U-1?t.strstart:U-1,e===u?(et(t,!0),0===t.strm.avail_out?G:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}function lt(t,e,n,a,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=a,this.func=r}function dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*E),this.dyn_dtree=new r.Buf16(2*(2*q+1)),this.bl_tree=new r.Buf16(2*(2*D+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(B+1),this.heap=new r.Buf16(2*A+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*A+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=k,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?I:j,t.adler=2===e.wrap?0:1,e.last_flush=d,i._tr_init(e),m):V(t,g)}function ht(t){var e,n=ct(t);return n===m&&((e=t.state).window_size=2*e.w_size,Q(e.head),e.max_lazy_match=a[e.level].max_lazy,e.good_match=a[e.level].good_length,e.nice_match=a[e.level].nice_length,e.max_chain_length=a[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=U-1,e.match_available=0,e.ins_h=0),n}function ut(t,e,n,a,i,o){if(!t)return g;var s=1;if(e===y&&(e=6),a<0?(s=0,a=-a):a>15&&(s=2,a-=16),i<1||i>z||n!==T||a<8||a>15||e<0||e>9||o<0||o>_)return V(t,g);8===a&&(a=9);var l=new dt;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+U-1)/U),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=n,ht(t)}a=[new lt(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(it(t),0===t.lookahead&&e===d)return $;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var a=t.block_start+n;if((0===t.strstart||t.strstart>=a)&&(t.lookahead=t.strstart-a,t.strstart=a,et(t,!1),0===t.strm.avail_out))return $;if(t.strstart-t.block_start>=t.w_size-O&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?G:X):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),$)}),new lt(4,4,8,4,ot),new lt(4,5,16,8,ot),new lt(4,6,32,32,ot),new lt(4,4,16,16,st),new lt(8,16,32,32,st),new lt(8,16,128,128,st),new lt(8,32,128,256,st),new lt(32,128,258,1024,st),new lt(32,258,258,4096,st)],e.deflateInit=function(t,e){return ut(t,e,T,M,L,C)},e.deflateInit2=ut,e.deflateReset=ht,e.deflateResetKeep=ct,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,m):g},e.deflate=function(t,e){var n,r,o,l;if(!t||!t.state||e>f||e<0)return t?V(t,g):g;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===P&&e!==u)return V(t,0===t.avail_out?b:g);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===I)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=S||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=H):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=S||r.level<2?4:0),nt(r,K),r.status=j);else{var v=T+(r.w_bits-8<<4)<<8;v|=(r.strategy>=S||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=F),v+=31-v%31,r.status=j,at(r,v),0!==r.strstart&&(at(r,t.adler>>>16),at(r,65535&t.adler)),t.adler=1}if(r.status===H)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=Z)}else r.status=Z;if(r.status===Z)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),tt(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=N)}else r.status=N;if(r.status===N&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=j)):r.status=j),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,m}else if(0===t.avail_in&&J(e)<=J(n)&&e!==u)return V(t,b);if(r.status===P&&0!==t.avail_in)return V(t,b);if(0!==t.avail_in||0!==r.lookahead||e!==d&&r.status!==P){var y=r.strategy===S?function(t,e){for(var n;;){if(0===t.lookahead&&(it(t),0===t.lookahead)){if(e===d)return $;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?G:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}(r,e):r.strategy===x?function(t,e){for(var n,a,r,o,s=t.window;;){if(t.lookahead<=R){if(it(t),t.lookahead<=R&&e===d)return $;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=U&&t.strstart>0&&(a=s[r=t.strstart-1])===s[++r]&&a===s[++r]&&a===s[++r]){o=t.strstart+R;do{}while(a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&a===s[++r]&&r<o);t.match_length=R-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=U?(n=i._tr_tally(t,1,t.match_length-U),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return $}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?G:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?$:Y}(r,e):a[r.level].func(r,e);if(y!==G&&y!==X||(r.status=P),y===$||y===G)return 0===t.avail_out&&(r.last_flush=-1),m;if(y===Y&&(e===c?i._tr_align(r):e!==f&&(i._tr_stored_block(r,0,0,!1),e===h&&(Q(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,m}return e!==u?m:r.wrap<=0?p:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(at(r,t.adler>>>16),at(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?m:p)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==I&&e!==H&&e!==W&&e!==Z&&e!==N&&e!==j&&e!==P?V(t,g):(t.state=null,e===j?V(t,v):m):g},e.deflateSetDictionary=function(t,e){var n,a,i,s,l,d,c,h,u=e.length;if(!t||!t.state)return g;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==I||n.lookahead)return g;for(1===s&&(t.adler=o(t.adler,e,u,0)),n.wrap=0,u>=n.w_size&&(0===s&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,e,u-n.w_size,n.w_size,0),e=h,u=n.w_size),l=t.avail_in,d=t.next_in,c=t.input,t.avail_in=u,t.next_in=0,t.input=e,it(n);n.lookahead>=U;){a=n.strstart,i=n.lookahead-(U-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[a+U-1])&n.hash_mask,n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++}while(--i);n.strstart=a,n.lookahead=U-1,it(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=U-1,n.match_available=0,t.next_in=d,t.input=c,t.avail_in=l,n.wrap=s,m},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var a=n(4),r=4,i=0,o=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var d=0,c=1,h=2,u=29,f=256,m=f+1+u,p=30,g=19,v=2*m+1,b=15,y=16,w=7,S=256,x=16,_=17,C=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(m+2));l(L);var A=new Array(2*p);l(A);var q=new Array(512);l(q);var D=new Array(256);l(D);var E=new Array(u);l(E);var B,U,R,O=new Array(p);function F(t,e,n,a,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=a,this.max_length=r,this.has_stree=t&&t.length}function I(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function H(t){return t<256?q[t]:q[256+(t>>>7)]}function W(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Z(t,e,n){t.bi_valid>y-n?(t.bi_buf|=e<<t.bi_valid&65535,W(t,t.bi_buf),t.bi_buf=e>>y-t.bi_valid,t.bi_valid+=n-y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function N(t,e,n){Z(t,n[2*e],n[2*e+1])}function j(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function P(t,e,n){var a,r,i=new Array(b+1),o=0;for(a=1;a<=b;a++)i[a]=o=o+n[a-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=j(i[s]++,s))}}function $(t){var e;for(e=0;e<m;e++)t.dyn_ltree[2*e]=0;for(e=0;e<p;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*S]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Y(t){t.bi_valid>8?W(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,n,a){var r=2*e,i=2*n;return t[r]<t[i]||t[r]===t[i]&&a[e]<=a[n]}function X(t,e,n){for(var a=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&G(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!G(e,a,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=a}function K(t,e,n){var a,r,i,o,s=0;if(0!==t.last_lit)do{a=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===a?N(t,r,e):(N(t,(i=D[r])+f+1,e),0!==(o=k[i])&&Z(t,r-=E[i],o),N(t,i=H(--a),n),0!==(o=T[i])&&Z(t,a-=O[i],o))}while(s<t.last_lit);N(t,S,e)}function V(t,e){var n,a,r,i=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,d=-1;for(t.heap_len=0,t.heap_max=v,n=0;n<l;n++)0!==i[2*n]?(t.heap[++t.heap_len]=d=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=d<2?++d:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=o[2*r+1]);for(e.max_code=d,n=t.heap_len>>1;n>=1;n--)X(t,i,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],X(t,i,1),a=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=a,i[2*r]=i[2*n]+i[2*a],t.depth[r]=(t.depth[n]>=t.depth[a]?t.depth[n]:t.depth[a])+1,i[2*n+1]=i[2*a+1]=r,t.heap[1]=r++,X(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,a,r,i,o,s,l=e.dyn_tree,d=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,m=e.stat_desc.max_length,p=0;for(i=0;i<=b;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<v;n++)(i=l[2*l[2*(a=t.heap[n])+1]+1]+1)>m&&(i=m,p++),l[2*a+1]=i,a>d||(t.bl_count[i]++,o=0,a>=f&&(o=u[a-f]),s=l[2*a],t.opt_len+=s*(i+o),h&&(t.static_len+=s*(c[2*a+1]+o)));if(0!==p){do{for(i=m-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[m]--,p-=2}while(p>0);for(i=m;0!==i;i--)for(a=t.bl_count[i];0!==a;)(r=t.heap[--n])>d||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),a--)}}(t,e),P(i,d,t.bl_count)}function J(t,e,n){var a,r,i=-1,o=e[1],s=0,l=7,d=4;for(0===o&&(l=138,d=3),e[2*(n+1)+1]=65535,a=0;a<=n;a++)r=o,o=e[2*(a+1)+1],++s<l&&r===o||(s<d?t.bl_tree[2*r]+=s:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*_]++:t.bl_tree[2*C]++,s=0,i=r,0===o?(l=138,d=3):r===o?(l=6,d=3):(l=7,d=4))}function Q(t,e,n){var a,r,i=-1,o=e[1],s=0,l=7,d=4;for(0===o&&(l=138,d=3),a=0;a<=n;a++)if(r=o,o=e[2*(a+1)+1],!(++s<l&&r===o)){if(s<d)do{N(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==i&&(N(t,r,t.bl_tree),s--),N(t,x,t.bl_tree),Z(t,s-3,2)):s<=10?(N(t,_,t.bl_tree),Z(t,s-3,3)):(N(t,C,t.bl_tree),Z(t,s-11,7));s=0,i=r,0===o?(l=138,d=3):r===o?(l=6,d=3):(l=7,d=4)}}l(O);var tt=!1;function et(t,e,n,r){Z(t,(d<<1)+(r?1:0),3),function(t,e,n,r){Y(t),r&&(W(t,n),W(t,~n)),a.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,a,r,i=new Array(b+1);for(n=0,a=0;a<u-1;a++)for(E[a]=n,t=0;t<1<<k[a];t++)D[n++]=a;for(D[n-1]=a,r=0,a=0;a<16;a++)for(O[a]=r,t=0;t<1<<T[a];t++)q[r++]=a;for(r>>=7;a<p;a++)for(O[a]=r<<7,t=0;t<1<<T[a]-7;t++)q[256+r++]=a;for(e=0;e<=b;e++)i[e]=0;for(t=0;t<=143;)L[2*t+1]=8,t++,i[8]++;for(;t<=255;)L[2*t+1]=9,t++,i[9]++;for(;t<=279;)L[2*t+1]=7,t++,i[7]++;for(;t<=287;)L[2*t+1]=8,t++,i[8]++;for(P(L,m+1,i),t=0;t<p;t++)A[2*t+1]=5,A[2*t]=j(t,5);B=new F(L,k,f+1,m,b),U=new F(A,T,0,p,b),R=new F(new Array(0),z,0,g,w)}(),tt=!0),t.l_desc=new I(t.dyn_ltree,B),t.d_desc=new I(t.dyn_dtree,U),t.bl_desc=new I(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,$(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,a){var l,d,u=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return i;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return o;return i}(t)),V(t,t.l_desc),V(t,t.d_desc),u=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),V(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*M[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(d=t.static_len+3+7>>>3)<=l&&(l=d)):l=d=n+5,n+4<=l&&-1!==e?et(t,e,n,a):t.strategy===r||d===l?(Z(t,(c<<1)+(a?1:0),3),K(t,L,A)):(Z(t,(h<<1)+(a?1:0),3),function(t,e,n,a){var r;for(Z(t,e-257,5),Z(t,n-1,5),Z(t,a-4,4),r=0;r<a;r++)Z(t,t.bl_tree[2*M[r]+1],3);Q(t,t.dyn_ltree,e-1),Q(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),K(t,t.dyn_ltree,t.dyn_dtree)),$(t),a&&Y(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(D[n]+f+1)]++,t.dyn_dtree[2*H(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){Z(t,c<<1,3),N(t,S,L),function(t){16===t.bi_valid?(W(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var a=n(65),r=n(4),i=n(10),o=n(12),s=n(7),l=n(11),d=n(68),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new d,a.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=i.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=a.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function u(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,l,d,h,u=this.strm,f=this.options.chunkSize,m=this.options.dictionary,p=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?u.input=i.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?u.input=new Uint8Array(t):u.input=t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new r.Buf8(f),u.next_out=0,u.avail_out=f),(n=a.inflate(u,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(n=a.inflateSetDictionary(this.strm,m)),n===o.Z_BUF_ERROR&&!0===p&&(n=o.Z_OK,p=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&n!==o.Z_STREAM_END&&(0!==u.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(u.output,u.next_out),d=u.next_out-l,h=i.buf2string(u.output,l),u.next_out=d,u.avail_out=f-d,d&&r.arraySet(u.output,u.output,l,d,0),this.onData(h)):this.onData(r.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(p=!0)}while((u.avail_in>0||0===u.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),u.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=u,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},e.ungzip=u},function(t,e,n){"use strict";var a=n(4),r=n(8),i=n(9),o=n(66),s=n(67),l=0,d=1,c=2,h=4,u=5,f=6,m=0,p=1,g=2,v=-2,b=-3,y=-4,w=-5,S=8,x=1,_=2,C=3,k=4,T=5,z=6,M=7,L=8,A=9,q=10,D=11,E=12,B=13,U=14,R=15,O=16,F=17,I=18,H=19,W=20,Z=21,N=22,j=23,P=24,$=25,Y=26,G=27,X=28,K=29,V=30,J=31,Q=32,tt=852,et=592,nt=15;function at(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a.Buf32(tt),e.distcode=e.distdyn=new a.Buf32(et),e.sane=1,e.back=-1,m):v}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):v}function st(t,e){var n,a;return t&&t.state?(a=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==a.window&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,ot(t))):v}function lt(t,e){var n,a;return t?(a=new rt,t.state=a,a.window=null,(n=st(t,e))!==m&&(t.state=null),n):v}var dt,ct,ht=!0;function ut(t){if(ht){var e;for(dt=new a.Buf32(512),ct=new a.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(d,t.lens,0,288,dt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(c,t.lens,0,32,ct,0,t.work,{bits:5}),ht=!1}t.lencode=dt,t.lenbits=9,t.distcode=ct,t.distbits=5}function ft(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new a.Buf8(o.wsize)),r>=o.wsize?(a.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),a.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(a.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}e.inflateReset=ot,e.inflateReset2=st,e.inflateResetKeep=it,e.inflateInit=function(t){return lt(t,nt)},e.inflateInit2=lt,e.inflate=function(t,e){var n,tt,et,nt,rt,it,ot,st,lt,dt,ct,ht,mt,pt,gt,vt,bt,yt,wt,St,xt,_t,Ct,kt,Tt=0,zt=new a.Buf8(4),Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(n=t.state).mode===E&&(n.mode=B),rt=t.next_out,et=t.output,ot=t.avail_out,nt=t.next_in,tt=t.input,it=t.avail_in,st=n.hold,lt=n.bits,dt=it,ct=ot,_t=m;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=B;break}for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(2&n.wrap&&35615===st){n.check=0,zt[0]=255&st,zt[1]=st>>>8&255,n.check=i(n.check,zt,2,0),st=0,lt=0,n.mode=_;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=V;break}if((15&st)!==S){t.msg="unknown compression method",n.mode=V;break}if(lt-=4,xt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=V;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&st?q:E,st=0,lt=0;break;case _:for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(n.flags=st,(255&n.flags)!==S){t.msg="unknown compression method",n.mode=V;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=V;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(zt[0]=255&st,zt[1]=st>>>8&255,n.check=i(n.check,zt,2,0)),st=0,lt=0,n.mode=C;case C:for(;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.time=st),512&n.flags&&(zt[0]=255&st,zt[1]=st>>>8&255,zt[2]=st>>>16&255,zt[3]=st>>>24&255,n.check=i(n.check,zt,4,0)),st=0,lt=0,n.mode=k;case k:for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(zt[0]=255&st,zt[1]=st>>>8&255,n.check=i(n.check,zt,2,0)),st=0,lt=0,n.mode=T;case T:if(1024&n.flags){for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(zt[0]=255&st,zt[1]=st>>>8&255,n.check=i(n.check,zt,2,0)),st=0,lt=0}else n.head&&(n.head.extra=null);n.mode=z;case z:if(1024&n.flags&&((ht=n.length)>it&&(ht=it),ht&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),a.arraySet(n.head.extra,tt,nt,ht,xt)),512&n.flags&&(n.check=i(n.check,tt,ht,nt)),it-=ht,nt+=ht,n.length-=ht),n.length))break t;n.length=0,n.mode=M;case M:if(2048&n.flags){if(0===it)break t;ht=0;do{xt=tt[nt+ht++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&ht<it);if(512&n.flags&&(n.check=i(n.check,tt,ht,nt)),it-=ht,nt+=ht,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=L;case L:if(4096&n.flags){if(0===it)break t;ht=0;do{xt=tt[nt+ht++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&ht<it);if(512&n.flags&&(n.check=i(n.check,tt,ht,nt)),it-=ht,nt+=ht,xt)break t}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){for(;lt<16;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=V;break}st=0,lt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=E;break;case q:for(;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}t.adler=n.check=at(st),st=0,lt=0,n.mode=D;case D:if(0===n.havedict)return t.next_out=rt,t.avail_out=ot,t.next_in=nt,t.avail_in=it,n.hold=st,n.bits=lt,g;t.adler=n.check=1,n.mode=E;case E:if(e===u||e===f)break t;case B:if(n.last){st>>>=7&lt,lt-=7&lt,n.mode=G;break}for(;lt<3;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}switch(n.last=1&st,lt-=1,3&(st>>>=1)){case 0:n.mode=U;break;case 1:if(ut(n),n.mode=W,e===f){st>>>=2,lt-=2;break t}break;case 2:n.mode=F;break;case 3:t.msg="invalid block type",n.mode=V}st>>>=2,lt-=2;break;case U:for(st>>>=7&lt,lt-=7&lt;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=V;break}if(n.length=65535&st,st=0,lt=0,n.mode=R,e===f)break t;case R:n.mode=O;case O:if(ht=n.length){if(ht>it&&(ht=it),ht>ot&&(ht=ot),0===ht)break t;a.arraySet(et,tt,nt,ht,rt),it-=ht,nt+=ht,ot-=ht,rt+=ht,n.length-=ht;break}n.mode=E;break;case F:for(;lt<14;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(n.nlen=257+(31&st),st>>>=5,lt-=5,n.ndist=1+(31&st),st>>>=5,lt-=5,n.ncode=4+(15&st),st>>>=4,lt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=V;break}n.have=0,n.mode=I;case I:for(;n.have<n.ncode;){for(;lt<3;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.lens[Mt[n.have++]]=7&st,st>>>=3,lt-=3}for(;n.have<19;)n.lens[Mt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ct={bits:n.lenbits},_t=s(l,n.lens,0,19,n.lencode,0,n.work,Ct),n.lenbits=Ct.bits,_t){t.msg="invalid code lengths set",n.mode=V;break}n.have=0,n.mode=H;case H:for(;n.have<n.nlen+n.ndist;){for(;vt=(Tt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,bt=65535&Tt,!((gt=Tt>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(bt<16)st>>>=gt,lt-=gt,n.lens[n.have++]=bt;else{if(16===bt){for(kt=gt+2;lt<kt;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(st>>>=gt,lt-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=V;break}xt=n.lens[n.have-1],ht=3+(3&st),st>>>=2,lt-=2}else if(17===bt){for(kt=gt+3;lt<kt;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}lt-=gt,xt=0,ht=3+(7&(st>>>=gt)),st>>>=3,lt-=3}else{for(kt=gt+7;lt<kt;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}lt-=gt,xt=0,ht=11+(127&(st>>>=gt)),st>>>=7,lt-=7}if(n.have+ht>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=V;break}for(;ht--;)n.lens[n.have++]=xt}}if(n.mode===V)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=V;break}if(n.lenbits=9,Ct={bits:n.lenbits},_t=s(d,n.lens,0,n.nlen,n.lencode,0,n.work,Ct),n.lenbits=Ct.bits,_t){t.msg="invalid literal/lengths set",n.mode=V;break}if(n.distbits=6,n.distcode=n.distdyn,Ct={bits:n.distbits},_t=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ct),n.distbits=Ct.bits,_t){t.msg="invalid distances set",n.mode=V;break}if(n.mode=W,e===f)break t;case W:n.mode=Z;case Z:if(it>=6&&ot>=258){t.next_out=rt,t.avail_out=ot,t.next_in=nt,t.avail_in=it,n.hold=st,n.bits=lt,o(t,ct),rt=t.next_out,et=t.output,ot=t.avail_out,nt=t.next_in,tt=t.input,it=t.avail_in,st=n.hold,lt=n.bits,n.mode===E&&(n.back=-1);break}for(n.back=0;vt=(Tt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,bt=65535&Tt,!((gt=Tt>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(vt&&0==(240&vt)){for(yt=gt,wt=vt,St=bt;vt=(Tt=n.lencode[St+((st&(1<<yt+wt)-1)>>yt)])>>>16&255,bt=65535&Tt,!(yt+(gt=Tt>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}st>>>=yt,lt-=yt,n.back+=yt}if(st>>>=gt,lt-=gt,n.back+=gt,n.length=bt,0===vt){n.mode=Y;break}if(32&vt){n.back=-1,n.mode=E;break}if(64&vt){t.msg="invalid literal/length code",n.mode=V;break}n.extra=15&vt,n.mode=N;case N:if(n.extra){for(kt=n.extra;lt<kt;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=j;case j:for(;vt=(Tt=n.distcode[st&(1<<n.distbits)-1])>>>16&255,bt=65535&Tt,!((gt=Tt>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(0==(240&vt)){for(yt=gt,wt=vt,St=bt;vt=(Tt=n.distcode[St+((st&(1<<yt+wt)-1)>>yt)])>>>16&255,bt=65535&Tt,!(yt+(gt=Tt>>>24)<=lt);){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}st>>>=yt,lt-=yt,n.back+=yt}if(st>>>=gt,lt-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=V;break}n.offset=bt,n.extra=15&vt,n.mode=P;case P:if(n.extra){for(kt=n.extra;lt<kt;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=V;break}n.mode=$;case $:if(0===ot)break t;if(ht=ct-ot,n.offset>ht){if((ht=n.offset-ht)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=V;break}ht>n.wnext?(ht-=n.wnext,mt=n.wsize-ht):mt=n.wnext-ht,ht>n.length&&(ht=n.length),pt=n.window}else pt=et,mt=rt-n.offset,ht=n.length;ht>ot&&(ht=ot),ot-=ht,n.length-=ht;do{et[rt++]=pt[mt++]}while(--ht);0===n.length&&(n.mode=Z);break;case Y:if(0===ot)break t;et[rt++]=n.length,ot--,n.mode=Z;break;case G:if(n.wrap){for(;lt<32;){if(0===it)break t;it--,st|=tt[nt++]<<lt,lt+=8}if(ct-=ot,t.total_out+=ct,n.total+=ct,ct&&(t.adler=n.check=n.flags?i(n.check,et,ct,rt-ct):r(n.check,et,ct,rt-ct)),ct=ot,(n.flags?st:at(st))!==n.check){t.msg="incorrect data check",n.mode=V;break}st=0,lt=0}n.mode=X;case X:if(n.wrap&&n.flags){for(;lt<32;){if(0===it)break t;it--,st+=tt[nt++]<<lt,lt+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=V;break}st=0,lt=0}n.mode=K;case K:_t=p;break t;case V:_t=b;break t;case J:return y;case Q:default:return v}return t.next_out=rt,t.avail_out=ot,t.next_in=nt,t.avail_in=it,n.hold=st,n.bits=lt,(n.wsize||ct!==t.avail_out&&n.mode<V&&(n.mode<G||e!==h))&&ft(t,t.output,t.next_out,ct-t.avail_out)?(n.mode=J,y):(dt-=t.avail_in,ct-=t.avail_out,t.total_in+=dt,t.total_out+=ct,n.total+=ct,n.wrap&&ct&&(t.adler=n.check=n.flags?i(n.check,et,ct,t.next_out-ct):r(n.check,et,ct,t.next_out-ct)),t.data_type=n.bits+(n.last?64:0)+(n.mode===E?128:0)+(n.mode===W||n.mode===R?256:0),(0===dt&&0===ct||e===h)&&_t===m&&(_t=w),_t)},e.inflateEnd=function(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,m},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?v:(n.head=e,e.done=!1,m):v},e.inflateSetDictionary=function(t,e){var n,a=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==D?v:n.mode===D&&r(1,e,a,0)!==n.check?b:ft(t,e,a,a)?(n.mode=J,y):(n.havedict=1,m):v},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,a,r,i,o,s,l,d,c,h,u,f,m,p,g,v,b,y,w,S,x,_,C,k,T;n=t.state,a=t.next_in,k=t.input,r=a+(t.avail_in-5),i=t.next_out,T=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),l=n.dmax,d=n.wsize,c=n.whave,h=n.wnext,u=n.window,f=n.hold,m=n.bits,p=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{m<15&&(f+=k[a++]<<m,m+=8,f+=k[a++]<<m,m+=8),y=p[f&v];e:for(;;){if(f>>>=w=y>>>24,m-=w,0===(w=y>>>16&255))T[i++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=p[(65535&y)+(f&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}S=65535&y,(w&=15)&&(m<w&&(f+=k[a++]<<m,m+=8),S+=f&(1<<w)-1,f>>>=w,m-=w),m<15&&(f+=k[a++]<<m,m+=8,f+=k[a++]<<m,m+=8),y=g[f&b];n:for(;;){if(f>>>=w=y>>>24,m-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=g[(65535&y)+(f&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&y,m<(w&=15)&&(f+=k[a++]<<m,(m+=8)<w&&(f+=k[a++]<<m,m+=8)),(x+=f&(1<<w)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=w,m-=w,x>(w=i-o)){if((w=x-w)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(_=0,C=u,0===h){if(_+=d-w,w<S){S-=w;do{T[i++]=u[_++]}while(--w);_=i-x,C=T}}else if(h<w){if(_+=d+h-w,(w-=h)<S){S-=w;do{T[i++]=u[_++]}while(--w);if(_=0,h<S){S-=w=h;do{T[i++]=u[_++]}while(--w);_=i-x,C=T}}}else if(_+=h-w,w<S){S-=w;do{T[i++]=u[_++]}while(--w);_=i-x,C=T}for(;S>2;)T[i++]=C[_++],T[i++]=C[_++],T[i++]=C[_++],S-=3;S&&(T[i++]=C[_++],S>1&&(T[i++]=C[_++]))}else{_=i-x;do{T[i++]=T[_++],T[i++]=T[_++],T[i++]=T[_++],S-=3}while(S>2);S&&(T[i++]=T[_++],S>1&&(T[i++]=T[_++]))}break}}break}}while(a<r&&i<s);a-=S=m>>3,f&=(1<<(m-=S<<3))-1,t.next_in=a,t.next_out=i,t.avail_in=a<r?r-a+5:5-(a-r),t.avail_out=i<s?s-i+257:257-(i-s),n.hold=f,n.bits=m}},function(t,e,n){"use strict";var a=n(4),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,d,c,h,u){var f,m,p,g,v,b,y,w,S,x=u.bits,_=0,C=0,k=0,T=0,z=0,M=0,L=0,A=0,q=0,D=0,E=null,B=0,U=new a.Buf16(16),R=new a.Buf16(16),O=null,F=0;for(_=0;_<=15;_++)U[_]=0;for(C=0;C<l;C++)U[e[n+C]]++;for(z=x,T=15;T>=1&&0===U[T];T--);if(z>T&&(z=T),0===T)return d[c++]=20971520,d[c++]=20971520,u.bits=1,0;for(k=1;k<T&&0===U[k];k++);for(z<k&&(z=k),A=1,_=1;_<=15;_++)if(A<<=1,(A-=U[_])<0)return-1;if(A>0&&(0===t||1!==T))return-1;for(R[1]=0,_=1;_<15;_++)R[_+1]=R[_]+U[_];for(C=0;C<l;C++)0!==e[n+C]&&(h[R[e[n+C]]++]=C);if(0===t?(E=O=h,b=19):1===t?(E=r,B-=257,O=i,F-=257,b=256):(E=o,O=s,b=-1),D=0,C=0,_=k,v=c,M=z,L=0,p=-1,g=(q=1<<z)-1,1===t&&q>852||2===t&&q>592)return 1;for(;;){y=_-L,h[C]<b?(w=0,S=h[C]):h[C]>b?(w=O[F+h[C]],S=E[B+h[C]]):(w=96,S=0),f=1<<_-L,k=m=1<<M;do{d[v+(D>>L)+(m-=f)]=y<<24|w<<16|S|0}while(0!==m);for(f=1<<_-1;D&f;)f>>=1;if(0!==f?(D&=f-1,D+=f):D=0,C++,0==--U[_]){if(_===T)break;_=e[n+h[C]]}if(_>z&&(D&g)!==p){for(0===L&&(L=z),v+=k,A=1<<(M=_-L);M+L<T&&!((A-=U[M+L])<=0);)M++,A<<=1;if(q+=1<<M,1===t&&q>852||2===t&&q>592)return 1;d[p=D&g]=z<<24|M<<16|v-c|0}}return 0!==D&&(d[v+D]=_-L<<24|64<<16|0),u.bits=z,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(13);n(71);var r=n(2);e.default=class{constructor(){this.fileName=null}renderAt(t){this.saveMpcToDom=document.createElement("div"),this.saveMpcToDom.classList.add("save-mpc"),this.saveMpcToDom.innerHTML="SAVE ALU",t.appendChild(this.saveMpcToDom)}inputFileName(){this.fileName=prompt("ENTER FILENAME:","MyPixelCraft")}saveMpc(t){if(this.inputFileName(),null===this.fileName)return;const e=(0,r.fromLStorage)(localStorage.getItem(`state${t.mainCanvasWidth}`)),n=`${this.fileName}.alu`,i=new Blob([JSON.stringify(e)],{type:"application/json",name:n});(0,a.saveAs)(i,n)}}},function(t,e,n){var a=n(72);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".save-mpc {\n  margin-right: 5px;\n  margin-top: 1px;\n  width: 54px;\n  height: 1rem;\n  text-align: center;\n  position: absolute;\n  right: 70px;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  font-size: 14px;\n  line-height: 0.8rem;\n  border: 2px solid var(--light-grey);\n}\n\n.save-mpc:hover {\n  border: 2px solid var(--good-green);\n  color: var(--good-green);\n  cursor: pointer;\n}\n\n.save-mpc:active {\n  border: 2px solid var(--bright-red);\n  color: var(--bright-red);\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(74);e.default=class{constructor(){this.fileName=null,this.state=null,this.parsedData=null,this.file=null}renderAt(t){this.openMpcToDom=document.createElement("div"),this.openMpcToDom.classList.add("open-mpc"),this.openMpcToDom.innerHTML='<input type="file" name="OPEN ALU" id="myFile" class="my-file"></input>',t.appendChild(this.openMpcToDom)}openMpcFile(){return this.file=document.querySelector(".my-file").files[0],this.file}}},function(t,e,n){var a=n(75);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,"\n.open-mpc {\n  width: 58px;\n  height: 1rem;\n  position: absolute;\n  right: 169px;\n}\n\n.my-file {\n  margin-right: 5px;\n  margin-top: 1px;\n  text-align: center;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  font-size: 14px;\n  line-height: 0.8rem;\n  border: 2px solid var(--light-grey);\n  width: 100%;\n  height: 100%;\n  outline: none;\n}\n\n.my-file:hover {\n  border: 2px solid var(--good-green);\n  color: var(--good-green);\n  cursor: pointer;\n  outline: none;\n}\n\n.my-file:active {\n  border: 2px solid var(--bright-red);\n  color: var(--bright-red);\n  outline: none;\n}\n\n.my-file::-webkit-file-upload-button {\n  visibility: hidden;\n  outline: none;\n}\n\n.my-file::before {\n  content: 'OPEN ALU';\n  display: inline-block;\n  font-family: 'Ubuntu Condensed', sans-serif;\n  padding-left: 1px;\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(2),r=l(n(77)),i=l(n(120)),o=l(n(124)),s=l(n(131));function l(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(){this.state=null,this.tools=new r.default,this.frameList=new i.default,this.mainCanvasWindow=new o.default,this.preview=new s.default}setNewEditorWith(t){this.state=t;const e=document.querySelector(".editor");this.tools.renderAt(e),this.frameList.renderAt(e),this.mainCanvasWindow.renderAt(e),this.preview.renderAt(e),this.state.workCanvas=document.getElementById("work-canvas"),this.state.workCanvas.width=this.state.mainCanvasWidth,this.state.workCanvas.height=this.state.mainCanvasHeight,this.state.workCtx=this.state.workCanvas.getContext("2d"),this.state.mainCanvas=document.getElementById("main-canvas"),this.state.mainCanvas.width=this.state.mainCanvasWidth,this.state.mainCanvas.height=this.state.mainCanvasHeight,this.state.ctx=this.state.mainCanvas.getContext("2d"),0===this.state.dataUrls.length&&(this.state.dataUrls=[this.state.mainCanvas.toDataURL()],this.state.emptyCanvas=this.state.mainCanvas.toDataURL()),0===this.state.prevStepCache10.length&&(this.state.prevStepCache10=[this.state.mainCanvas.toDataURL()]),this.state.animCanv=document.getElementById("anim-canvas"),this.state.animCanvCtx=this.state.animCanv.getContext("2d"),(0,a.aplyCanvasImageDrawer)(this.state.dataUrls[0],this.state.animCanvCtx,207,207),this.frameList.loadFrameListWith(this.state),this.tools.adjustWith(this.state),this.frameList.adjustWith(this.state),this.mainCanvasWindow.adjustWith(this.state),this.preview.adjustWith(this.state)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(2);n(78);var r=p(n(80)),i=p(n(84)),o=p(n(92)),s=p(n(98)),l=p(n(101)),d=p(n(105)),c=p(n(14)),h=p(n(109)),u=p(n(112)),f=p(n(5)),m=p(n(116));function p(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(){this.toolsContainerToDOM=null,this.drawingToolsContainerToDOM=null,this.penSizeTool=new r.default,this.penToolSet=new i.default,this.strokeToolSet=new o.default,this.eraserTool=new s.default,this.bucketTool=new l.default,this.ditheringTool=new c.default,this.verticalMirrorTool=new d.default,this.colorSelectorTool=new u.default,this.eyeDropperTool=new h.default,this.undoRedoTool=new f.default,this.changeColorTool=new m.default}renderAt(t){this.toolsContainerToDOM=document.createElement("div"),this.toolsContainerToDOM.classList.add("tools-container"),t.appendChild(this.toolsContainerToDOM),this.penSizeTool.renderAt(this.toolsContainerToDOM),this.drawingToolsContainerToDOM=document.createElement("div"),this.drawingToolsContainerToDOM.classList.add("drawing-tools-container"),this.toolsContainerToDOM.appendChild(this.drawingToolsContainerToDOM),this.penToolSet.renderAt(this.drawingToolsContainerToDOM),this.verticalMirrorTool.renderAt(this.drawingToolsContainerToDOM),this.eraserTool.renderAt(this.drawingToolsContainerToDOM),this.ditheringTool.renderAt(this.drawingToolsContainerToDOM),this.strokeToolSet.renderAt(this.drawingToolsContainerToDOM),this.bucketTool.renderAt(this.drawingToolsContainerToDOM),this.changeColorTool.renderAt(this.drawingToolsContainerToDOM),this.eyeDropperTool.renderAt(this.drawingToolsContainerToDOM),this.colorSelectorTool.renderAt(this.toolsContainerToDOM)}adjustWith(t){document.querySelector(".drawing-tools-container").addEventListener("click",a.selectToolHandler),this.penSizeTool.setHandlerWith(t),this.penToolSet.setHandlersWith(t),this.strokeToolSet.setHandlersWith(t),this.bucketTool.setHandlerWith(t),this.changeColorTool.setHandlersWith(t),this.eyeDropperTool.setHandlersWith(t),this.colorSelectorTool.setHandlersWith(t),this.undoRedoTool.setHandlersWith(t)}}},function(t,e,n){var a=n(79);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".tools-container {\n  width: 110px;\n  height: 100%;\n  background: #252525;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  justify-items: space-evenly;\n}\n\n\n.drawing-tools-container {\n  width: 110px;\n  background: #252525;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  justify-content: space-evenly;\n}\n\n.drawing-tools-container .tools-toggle {\n  border: 2px solid var(--good-green);\n}\n\n.drawing-tools-container .tools-toggle:hover {\n  border: 2px solid var(--good-green);\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=(a=n(81))&&a.__esModule?a:{default:a};n(82);e.default=class{constructor(){this.editorState=null,this.content=r.default,this.penSizeTooltoDOM=null,this.penSizeHandlerBound=this.penSizeHandler.bind(this)}renderAt(t){this.penSizeTooltoDOM=document.createElement("div"),this.penSizeTooltoDOM.classList.add("pen-size-tool"),this.penSizeTooltoDOM.innerHTML=this.content,t.appendChild(this.penSizeTooltoDOM)}penSizeHandler(t){switch([...document.querySelector(".pen-size-tool").children].forEach(t=>{t.classList.contains("highlight-border")&&t.classList.remove("highlight-border")}),t.target){case document.querySelector(".two-px"):t.target.classList.add("highlight-border"),this.editorState.penSize=2;break;case document.querySelector(".size.three-px"):t.target.classList.add("highlight-border"),this.editorState.penSize=3;break;case document.querySelector(".size.four-px"):t.target.classList.add("highlight-border"),this.editorState.penSize=4;break;default:t.target.classList.add("highlight-border"),this.editorState.penSize=1}}setHandlerWith(t){this.editorState=t,document.querySelector(".pen-size-tool").addEventListener("click",this.penSizeHandler.bind(this))}}},function(t,e){t.exports='<div class="size one-px highlight-border"></div>\n<div class="size two-px"></div>\n<div class="size three-px"></div>\n<div class="size four-px"></div>\n'},function(t,e,n){var a=n(83);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.pen-size-tool {\n  margin: 4px 5px;\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: space-between;\n  width: 100px;\n  height: 25px;\n}\n\n.size {\n  margin: 1px;\n  width: 22px;\n  height: 22px;\n  border: 2px solid var(--light-grey);\n}\n\n.size::before {\n  background-color: var(--pale-green);\n  content: "";\n  display: block;\n}\n\n.size.one-px::before {\n  height: 4px;\n  margin: 7px;\n  width: 4px;\n}\n\n.size.two-px::before {\n  height: 8px;\n  margin: 5px;\n  width: 8px;\n}\n\n.size.three-px::before {\n  height: 12px;\n  margin: 3px;\n  width: 12px;\n}\n\n.size.four-px::before {\n  height: 16px;\n  margin: 1px;\n  width: 16px;\n}\n\n.size.highlight-border {\n  border-color: var(--bright-red);\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(2);n(85);var r=o(n(14)),i=o(n(5));function o(t){return t&&t.__esModule?t:{default:t}}let s,l,d,c,h,u,f,m,p=!1;e.default=class{constructor(){this.penToolToDOM=null,this.editorState=null,this.penDownOrEnterBound=this.penDownOrEnter.bind(this),this.penMoveBound=this.penMove.bind(this),this.penEnterBound=this.penEnter.bind(this),this.penUpBound=this.penUp.bind(this),this.ditheringTool=new r.default,this.undoRedoTool=new i.default(this.editorState)}renderAt(t){this.penToolToDOM=document.createElement("button"),this.penToolToDOM.classList.add("pen-tool-button"),this.penToolToDOM.classList.add("tools-toggle"),t.appendChild(this.penToolToDOM)}penDownOrEnter(t){this.editorState.activeFrameCanvas=document.querySelector('.frame[data-is-active="1"] #frame-canvas'),this.editorState.activeFrameCtx=this.editorState.activeFrameCanvas.getContext("2d"),this.editorState.ctx.lineWidth=this.editorState.penSize,this.editorState.ctx.fillStyle=this.editorState.leftBtnColor,f=this.editorState.mainCanvas.getBoundingClientRect().left,m=this.editorState.mainCanvas.getBoundingClientRect().top,l=Math.round((t.pageX-f)/this.editorState.canvasZoom-this.editorState.penSize/2),c=Math.round((t.pageY-m)/this.editorState.canvasZoom-this.editorState.penSize/2),this.useToolWith(l,c,this.editorState.penSize),p=!0}penMove(t){p&&(s=l,d=c,l=Math.round((t.pageX-f)/this.editorState.canvasZoom-this.editorState.penSize/2),c=Math.round((t.pageY-m)/this.editorState.canvasZoom-this.editorState.penSize/2),this.bresenhamDraw(s,d,l,c))}penEnter(t){p&&(l=Math.round((t.pageX-f)/this.editorState.canvasZoom-this.editorState.penSize/2),c=Math.round((t.pageY-m)/this.editorState.canvasZoom-this.editorState.penSize/2),this.useToolWith(l,c,this.editorState.penSize))}penUp(){p=!1,(document.querySelector(".pen-tool-button").classList.contains("tools-toggle")||document.querySelector(".eraser-tool-button").classList.contains("tools-toggle")||document.querySelector(".vertical-mirror-tool-button").classList.contains("tools-toggle")||document.querySelector(".dithering-tool-button").classList.contains("tools-toggle"))&&(h=this.editorState.activeFrameCanvas.dataset.curFrameNum,this.editorState.dataUrls[h-1]=this.editorState.mainCanvas.toDataURL(),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,(0,a.aplyCanvasImageDrawer)(this.editorState.dataUrls[h-1],this.editorState.activeFrameCtx,96,96),this.editorState.animCanvCtx.imageSmoothingEnabled=!1,(0,a.aplyCanvasImageDrawer)(this.editorState.dataUrls[0],this.editorState.animCanvCtx,207,207),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,a.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)))}bresenhamDraw(t,e,n,a){const r=Math.abs(n-t),i=Math.abs(a-e),o=t<n?1:-1,s=e<a?1:-1;let l=r-i;for(this.useToolWith(t,e,this.editorState.penSize);t!==n||e!==a;){const n=l<<1;n>-i&&(l-=i,t+=o),n<r&&(l+=r,e+=s),this.useToolWith(t,e,this.editorState.penSize)}}useToolWith(t,e,n){document.querySelector(".pen-tool-button").classList.contains("tools-toggle")?this.editorState.ctx.fillRect(t,e,n,n):document.querySelector(".eraser-tool-button").classList.contains("tools-toggle")?this.editorState.ctx.clearRect(t,e,n,n):document.querySelector(".vertical-mirror-tool-button").classList.contains("tools-toggle")&&(this.editorState.ctx.fillRect(t,e,n,n),this.editorState.ctx.fillRect(this.editorState.mainCanvasWidth-t-1,e,n,n)),document.querySelector(".dithering-tool-button").classList.contains("tools-toggle")&&(u=this.ditheringTool.ditheringCanvWith(this.editorState),this.editorState.ctx.drawImage(u,t,e,n,n,t,e,n,n))}setHandlersWith(t){this.editorState=t,document.querySelector(".drawing-window").addEventListener("mousedown",this.penDownOrEnterBound),this.editorState.mainCanvas.addEventListener("mousemove",this.penMoveBound),this.editorState.mainCanvas.addEventListener("mouseenter",this.penEnterBound),document.querySelector(".drawing-window").addEventListener("mouseup",this.penUpBound)}}},function(t,e,n){var a=n(86);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.pen-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.pen-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n\n.pen-tool-button::before {\n  content: "\\f040";\n  font-family: FontAwesome;\n  font-size: 1.5rem;\n}\n',""])},function(t,e,n){var a=n(88);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(89));e.push([t.i,".dithering-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-image: url("+a+");\n  background-repeat: no-repeat;\n  background-position: 9px 10px;\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.dithering-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n\n",""])},function(t,e){t.exports="assets/images/dithering-24.png"},function(t,e,n){var a=n(91);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.undo-redo-tool {\n  z-index: 30;\n  box-sizing: content-box;\n  margin: 1px;\n  width: 38px;\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  display: flex;\n  justify-content: space-between;\n  background-color: var(--dark-grey);\n  border: 5px solid var(--dark-grey);\n  text-align: center;\n}\n\n.undo,\n.redo {\n  height: 1rem;\n  width: 1rem;\n  color: var(--light-grey);\n}\n\n.undo.active,\n.redo.active {\n  color: var(--pale-green);\n}\n\n.undo.active:hover,\n.redo.active:hover {\n  color: var(--good-green);\n  cursor: pointer;\n}\n\n.undo::before {\n  content: "\\f0e2";\n  font-family: FontAwesome;\n  font-size: 1.2rem;\n  line-height: 1.1rem;\n}\n\n.redo::before {\n  content: "\\f01e";\n  font-family: FontAwesome;\n  font-size: 1.2rem;\n  line-height: 1.1rem;\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(2);n(93);var r,i=(r=n(5))&&r.__esModule?r:{default:r};let o,s,l,d,c,h,u,f=!1;const m={centerX:0,centerY:0,radX:0,radY:0},p={fillX:0,fillY:0,fillW:0,fillH:0,empX:0,empY:0,empW:0,empH:0};class g{constructor(){this.lineToolToDOM=null,this.ellipseToolToDOM=null,this.rectToolToDOM=null,this.moveToolToDOM=null,this.editorState=null,this.strokeStartBound=this.strokeStart.bind(this),this.lineMoveBound=this.lineMove.bind(this),this.ellipseMoveBound=this.ellipseMove.bind(this),this.rectMoveBound=this.rectMove.bind(this),this.moveMoveBound=this.moveMove.bind(this),this.strokeEndBound=this.strokeEnd.bind(this),this.undoRedoTool=new i.default(this.editorState)}renderAt(t){this.lineToolToDOM=document.createElement("button"),this.lineToolToDOM.classList.add("stroke"),this.lineToolToDOM.classList.add("line-tool-button"),t.appendChild(this.lineToolToDOM),this.rectToolToDOM=document.createElement("button"),this.rectToolToDOM.classList.add("stroke"),this.rectToolToDOM.classList.add("rect-tool-button"),t.appendChild(this.rectToolToDOM),this.ellipseToolToDOM=document.createElement("button"),this.ellipseToolToDOM.classList.add("stroke"),this.ellipseToolToDOM.classList.add("ellipse-tool-button"),t.appendChild(this.ellipseToolToDOM),this.moveToolToDOM=document.createElement("button"),this.moveToolToDOM.classList.add("stroke"),this.moveToolToDOM.classList.add("move-tool-button"),t.appendChild(this.moveToolToDOM)}strokeStart(t){f||(this.editorState.activeFrameCanvas=document.querySelector('.frame[data-is-active="1"] #frame-canvas'),this.editorState.workCtx.lineWidth=this.editorState.penSize,this.editorState.workCtx.fillStyle=this.editorState.leftBtnColor,h=this.editorState.workCanvas.getBoundingClientRect().left,u=this.editorState.workCanvas.getBoundingClientRect().top,o=Math.round((t.pageX-h)/this.editorState.canvasZoom-this.editorState.penSize/2),l=Math.round((t.pageY-u)/this.editorState.canvasZoom-this.editorState.penSize/2),(document.querySelector(".line-tool-button").classList.contains("tools-toggle")||document.querySelector(".rect-tool-button").classList.contains("tools-toggle"))&&this.useToolWith(o,l,this.editorState.penSize),document.querySelector(".move-tool-button").classList.contains("tools-toggle")&&(document.querySelector(".work-canvas").classList.add("work-canv-backgr"),this.editorState.workCtx.drawImage(this.editorState.mainCanvas,0,0)),f=!0)}moveMove(t){f&&document.querySelector(".move-tool-button").classList.contains("tools-toggle")&&(this.editorState.workCtx.clearRect(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasWidth),s=Math.round((t.pageX-h)/this.editorState.canvasZoom-this.editorState.penSize/2),d=Math.round((t.pageY-u)/this.editorState.canvasZoom-this.editorState.penSize/2),this.editorState.workCtx.drawImage(this.editorState.mainCanvas,s-o,d-l))}lineMove(t){f&&document.querySelector(".line-tool-button").classList.contains("tools-toggle")&&(this.editorState.workCtx.clearRect(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasWidth),s=Math.round((t.pageX-h)/this.editorState.canvasZoom-this.editorState.penSize/2),d=Math.round((t.pageY-u)/this.editorState.canvasZoom-this.editorState.penSize/2),this.bresenhamLine(o,l,s,d))}getRectData(){s<=o?(p.fillX=o+this.editorState.penSize,p.empX=o,p.fillW=s-o-this.editorState.penSize,p.empW=s-o+this.editorState.penSize):(p.fillX=o,p.empX=o+this.editorState.penSize,p.fillW=s-o+this.editorState.penSize,p.empW=s-o-this.editorState.penSize),d<=l?(p.fillY=l+this.editorState.penSize,p.empY=l,p.fillH=d-l-this.editorState.penSize,p.empH=d-l+this.editorState.penSize):(p.fillY=l,p.empY=l+this.editorState.penSize,p.fillH=d-l+this.editorState.penSize,p.empH=d-l-this.editorState.penSize)}rectMove(t){f&&document.querySelector(".rect-tool-button").classList.contains("tools-toggle")&&(this.editorState.workCtx.clearRect(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasWidth),s=Math.round((t.pageX-h)/this.editorState.canvasZoom-this.editorState.penSize/2),d=Math.round((t.pageY-u)/this.editorState.canvasZoom-this.editorState.penSize/2),this.getRectData(),this.editorState.workCtx.fillRect(p.fillX,p.fillY,p.fillW,p.fillH),this.editorState.workCtx.clearRect(p.empX,p.empY,p.empW,p.empH))}static getEllipseData(){m.centerX=Math.ceil(o+(s-o)/2),m.centerY=Math.ceil(l+(d-l)/2),m.radX=Math.abs(Math.ceil((s-o)/2)),m.radY=Math.ceil((d-l)/2)}ellipseMove(t){f&&document.querySelector(".ellipse-tool-button").classList.contains("tools-toggle")&&(this.editorState.workCtx.clearRect(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasWidth),s=Math.round((t.pageX-h)/this.editorState.canvasZoom-this.editorState.penSize/2),d=Math.round((t.pageY-u)/this.editorState.canvasZoom-this.editorState.penSize/2),g.getEllipseData(),this.bresenhamEllipse(m.centerX,m.centerY,m.radX,m.radY))}strokeEnd(){f&&(document.querySelector(".move-tool-button").classList.contains("tools-toggle")&&(document.querySelector(".work-canvas").classList.remove("work-canv-backgr"),this.editorState.ctx.clearRect(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasWidth)),this.editorState.ctx.drawImage(this.editorState.workCanvas,0,0),this.editorState.workCtx.clearRect(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasWidth),c=this.editorState.activeFrameCanvas.dataset.curFrameNum,this.editorState.dataUrls[c-1]=this.editorState.mainCanvas.toDataURL(),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,this.editorState.activeFrameCtx.clearRect(0,0,96,96),(0,a.aplyCanvasImageDrawer)(this.editorState.dataUrls[c-1],this.editorState.activeFrameCtx,96,96),this.editorState.animCanvCtx.clearRect(0,0,207,207),this.editorState.animCanvCtx.imageSmoothingEnabled=!1,(0,a.aplyCanvasImageDrawer)(this.editorState.dataUrls[0],this.editorState.animCanvCtx,207,207),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,a.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)),(document.querySelector(".line-tool-button").classList.contains("tools-toggle")||document.querySelector(".ellipse-tool-button").classList.contains("tools-toggle")||document.querySelector(".rect-tool-button").classList.contains("tools-toggle")||document.querySelector(".move-tool-button").classList.contains("tools-toggle"))&&this.undoRedoTool.toStepStorage10(this.editorState),f=!1)}bresenhamLine(t,e,n,a){const r=Math.abs(n-t),i=Math.abs(a-e),o=t<n?1:-1,s=e<a?1:-1;let l=r-i;for(this.useToolWith(t,e,this.editorState.penSize);t!==n||e!==a;){const n=l<<1;n>-i&&(l-=i,t+=o),n<r&&(l+=r,e+=s),this.useToolWith(t,e,this.editorState.penSize)}}bresenhamEllipse(t,e,n,a){let r,i=-n,o=0,s=(1+2*i)*a*a,l=i*i,d=s+l;do{this.useToolWith(t-i,e+o,this.editorState.penSize),this.useToolWith(t+i,e+o,this.editorState.penSize),this.useToolWith(t+i,e-o,this.editorState.penSize),this.useToolWith(t-i,e-o,this.editorState.penSize),(r=2*d)>=s&&(i+=1,d+=s+=2*a*a),r<=l&&(o+=1,d+=l+=2*n*n)}while(i<=0);for(;o<a;)this.useToolWith(t,e+o,this.editorState.penSize),this.useToolWith(t,e-o,this.editorState.penSize),o+=1}useToolWith(t,e,n){this.editorState.workCtx.fillRect(t,e,n,n)}setHandlersWith(t){this.editorState=t,document.querySelector(".drawing-window").addEventListener("mousedown",this.strokeStartBound),document.querySelector(".drawing-window").addEventListener("mousemove",this.lineMoveBound),document.querySelector(".drawing-window").addEventListener("mousemove",this.ellipseMoveBound),document.querySelector(".drawing-window").addEventListener("mousemove",this.rectMoveBound),document.querySelector(".drawing-window").addEventListener("mousemove",this.moveMoveBound),document.querySelector(".drawing-window").addEventListener("mouseup",this.strokeEndBound)}}e.default=g},function(t,e,n){var a=n(94);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3),r=a(n(95)),i=a(n(96)),o=a(n(97)),s=a(n(6));e.push([t.i,".stroke {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-repeat: no-repeat;\n  background-position: 10px 10px;\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.stroke:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n\n.line-tool-button {\n  background-image: url("+r+");\n}\n\n.ellipse-tool-button {\n  background-image: url("+i+");\n  background-position: 10px 9px;\n}\n\n.rect-tool-button {\n  background-image: url("+o+');\n  background-position: 10px 9px;\n}\n\n.move-tool-button::before {\n  content: "\\f256";\n  font-family: FontAwesome;\n  font-size: 1.5rem;\n}\n\n.work-canv-backgr {\n  background-image: url('+s+");\n}\n\n.move-cursor {\n  cursor: grab;\n}\n",""])},function(t,e){t.exports="assets/images/line.png"},function(t,e){t.exports="assets/images/ellipse.png"},function(t,e){t.exports="assets/images/rect.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(99);e.default=class{constructor(t){this.parent=t,this.eraserToolBtnToDom=null}renderAt(t){this.eraserToolBtnToDom=document.createElement("button"),this.eraserToolBtnToDom.classList.add("eraser-tool-button"),t.appendChild(this.eraserToolBtnToDom)}}},function(t,e,n){var a=n(100);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.eraser-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.eraser-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n\n.eraser-tool-button::before {\n  content: "\\f12d";\n  font-family: FontAwesome;\n  font-size: 1.5rem;\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(2);n(102);var r,i=(r=n(5))&&r.__esModule?r:{default:r};let o;e.default=class{constructor(){this.editorState=null,this.bucketToolBtnToDOM=null,this.undoRedoTool=new i.default(this.editorState),this.imgDataArray=null,this.r=0,this.g=0,this.b=0,this.firstPixR=0,this.firstPixG=0,this.firstPixB=0,this.firstPixA=0,this.newPos=0,this.pixelPos=0,this.reachLeft=!1,this.reachRight=!1,this.pixelStack=[]}renderAt(t){this.bucketToolBtnToDOM=document.createElement("button"),this.bucketToolBtnToDOM.classList.add("bucket-tool-button"),t.appendChild(this.bucketToolBtnToDOM)}prepareToFill(t){this.editorState.activeFrameCanvas=document.querySelector('.frame[data-is-active="1"] #frame-canvas'),this.editorState.activeFrameCtx=this.editorState.activeFrameCanvas.getContext("2d"),this.imgDataArray=this.editorState.ctx.getImageData(0,0,this.editorState.mainCanvasWidth,this.editorState.mainCanvasHeight);const e=this.editorState.mainCanvas.getBoundingClientRect().left,n=this.editorState.mainCanvas.getBoundingClientRect().top,a=Math.round((t.pageX-e)/this.editorState.canvasZoom-.2),r=Math.round((t.pageY-n)/this.editorState.canvasZoom-.2),i=4*(r*this.editorState.mainCanvasWidth+a);this.firstPixR=this.imgDataArray.data[i],this.firstPixG=this.imgDataArray.data[i+1],this.firstPixB=this.imgDataArray.data[i+2],this.firstPixA=this.imgDataArray.data[i+3],this.pixelStack[0]=[a,r]}useBucket(t){let e=0,n=0;if(this.fillColor=this.editorState.leftBtnColor,this.prepareToFill(t),(this.firstPixR!==(0,a.hexToRgba)(this.fillColor).r||this.firstPixG!==(0,a.hexToRgba)(this.fillColor).g||this.firstPixB!==(0,a.hexToRgba)(this.fillColor).b||this.firstPixA!==(0,a.hexToRgba)(this.fillColor).a)&&document.querySelector(".bucket-tool-button").classList.contains("tools-toggle")){for(;this.pixelStack.length;){for(this.newPos=this.pixelStack.pop(),[e,n]=this.newPos,this.pixelPos=4*(n*this.editorState.mainCanvasWidth+e);n>=0&&this.equalToStartColor(this.pixelPos);)n-=1,this.pixelPos-=4*this.editorState.mainCanvasWidth;for(this.pixelPos+=4*this.editorState.mainCanvasWidth,this.reachLeft=!1,this.reachRight=!1;n<=this.editorState.mainCanvasHeight-1&&this.equalToStartColor(this.pixelPos);)n+=1,this.drawPixel(this.pixelPos),e>0&&(this.equalToStartColor(this.pixelPos-4)?this.reachLeft||(this.pixelStack.push([e-1,n]),this.reachLeft=!0):this.reachLeft&&(this.reachLeft=!1)),e<this.editorState.mainCanvasWidth-1&&(this.equalToStartColor(this.pixelPos+4)?this.reachRight||(this.pixelStack.push([e+1,n]),this.reachRight=!0):this.reachRight&&(this.reachRight=!1)),this.pixelPos+=4*this.editorState.mainCanvasWidth;n+=1}this.editorState.ctx.putImageData(this.imgDataArray,0,0),o=this.editorState.activeFrameCanvas.dataset.curFrameNum,this.editorState.dataUrls[o-1]=this.editorState.mainCanvas.toDataURL(),this.editorState.activeFrameCtx.clearRect(0,0,96,96),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,(0,a.aplyCanvasImageDrawer)(this.editorState.dataUrls[o-1],this.editorState.activeFrameCtx,96,96),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,a.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth))}}equalToStartColor(t){return this.r=this.imgDataArray.data[t],this.g=this.imgDataArray.data[t+1],this.b=this.imgDataArray.data[t+2],this.a=this.imgDataArray.data[t+3],this.r===this.firstPixR&&this.g===this.firstPixG&&this.b===this.firstPixB&&this.a===this.firstPixA}drawPixel(t){this.imgDataArray.data[t]=(0,a.hexToRgba)(this.fillColor).r,this.imgDataArray.data[t+1]=(0,a.hexToRgba)(this.fillColor).g,this.imgDataArray.data[t+2]=(0,a.hexToRgba)(this.fillColor).b,this.imgDataArray.data[t+3]=(0,a.hexToRgba)(this.fillColor).a}setHandlerWith(t){this.editorState=t,document.querySelector(".main-canvas").addEventListener("mouseup",this.useBucket.bind(this))}}},function(t,e,n){var a=n(103);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(104));e.push([t.i,".bucket-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-image: url("+a+");\n  background-repeat: no-repeat;\n  background-position: 9px 8px;\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.bucket-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n",""])},function(t,e){t.exports="assets/images/bucket-color-24.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(106);e.default=class{constructor(t){this.parent=t,this.verticalMirrorTooltoDom=null}renderAt(t){this.verticalMirrorTooltoDom=document.createElement("button"),this.verticalMirrorTooltoDom.classList.add("vertical-mirror-tool-button"),t.appendChild(this.verticalMirrorTooltoDom)}}},function(t,e,n){var a=n(107);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(108));e.push([t.i,".vertical-mirror-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-image: url("+a+");\n  background-repeat: no-repeat;\n  background-position: 10px 10px;\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.vertical-mirror-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n",""])},function(t,e){t.exports="assets/images/vertical-mirror.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(2);let r,i,o,s,l,d;n(110);e.default=class{constructor(){this.editorState=null,this.eyeDropperTooltoDOM=null,this.pickLeftColorHandlerBound=this.pickLeftColorHandler.bind(this),this.pickRightColorHandlerBound=this.pickRightColorHandler.bind(this)}renderAt(t){this.eyeDropperTooltoDOM=document.createElement("button"),this.eyeDropperTooltoDOM.classList.add("eye-dropper-tool-button"),t.appendChild(this.eyeDropperTooltoDOM)}pickLeftColorHandler(t){document.querySelector(".eye-dropper-tool-button").classList.contains("tools-toggle")&&(r=this.editorState.mainCanvas.getBoundingClientRect().left,i=this.editorState.mainCanvas.getBoundingClientRect().top,o=Math.round((t.pageX-r)/this.editorState.canvasZoom-this.editorState.penSize/2),s=Math.round((t.pageY-i)/this.editorState.canvasZoom-this.editorState.penSize/2),l=this.editorState.ctx.getImageData(o,s,1,1).data,d=(0,a.rgbToHex)(l[0],l[1],l[2]),document.querySelector(".left-btn.color").value=d,this.editorState.leftBtnColor=d)}pickRightColorHandler(t){document.querySelector(".eye-dropper-tool-button").classList.contains("tools-toggle")&&(t.preventDefault(),r=this.editorState.mainCanvas.getBoundingClientRect().left,i=this.editorState.mainCanvas.getBoundingClientRect().top,o=Math.round((t.pageX-r)/this.editorState.canvasZoom-this.editorState.penSize/2),s=Math.round((t.pageY-i)/this.editorState.canvasZoom-this.editorState.penSize/2),l=this.editorState.ctx.getImageData(o,s,1,1).data,d=(0,a.rgbToHex)(l[0],l[1],l[2]),document.querySelector(".right-btn.color").value=d,this.editorState.rightBtnColor=d)}setHandlersWith(t){this.editorState=t,document.querySelector(".main-canvas").addEventListener("click",this.pickLeftColorHandlerBound),document.querySelector(".main-canvas").addEventListener("contextmenu",this.pickRightColorHandlerBound)}}},function(t,e,n){var a=n(111);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.eye-dropper-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.eye-dropper-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n\n.eye-dropper-tool-button::before {\n  content: "\\f1fb";\n  font-family: FontAwesome;\n  font-size: 1.5rem;\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=(a=n(113))&&a.__esModule?a:{default:a};let i;n(114);e.default=class{constructor(){this.content=r.default,this.editorState=null,this.curColorsToDOM=null,this.inputColorHandlerBound=this.inputColorHandler.bind(this),this.swapColorHandlerBound=this.swapColorHandler.bind(this)}renderAt(t){this.curColorsToDOM=document.createElement("div"),this.curColorsToDOM.classList.add("cur-colors-container"),this.curColorsToDOM.innerHTML=this.content,t.appendChild(this.curColorsToDOM)}inputColorHandler(t){document.querySelector(".left-btn.color")===t.target?(this.editorState.leftBtnColor=t.target.value,document.querySelector(".left-btn.color").setAttribute("value",`${t.target.value}`)):document.querySelector(".right-btn.color")===t.target&&(this.editorState.rightBtnColor=t.target.value,document.querySelector(".right-btn.color").setAttribute("value",`${t.target.value}`))}swapColorHandler(t){document.querySelector(".swap-colors-btn")===t.target&&(i=document.querySelector(".right-btn.color").value,document.querySelector(".right-btn.color").value=document.querySelector(".left-btn.color").value,document.querySelector(".left-btn.color").value=i,this.editorState.leftBtnColor=document.querySelector(".left-btn.color").value,this.editorState.rightBtnColor=document.querySelector(".right-btn.color").value)}setHandlersWith(t){this.editorState=t,document.querySelector(".cur-colors-container").addEventListener("change",this.inputColorHandlerBound),document.querySelector(".swap-colors-btn").addEventListener("click",this.swapColorHandlerBound)}}},function(t,e){t.exports='  <div class="left-btn color-container">\n    <input type="color" class="left-btn color" value="#41b100">\n  </div>\n  <div class="right-btn color-container">\n    <input type="color" class="right-btn color" value="#ccfccc">\n  </div>\n  <button class="swap-colors-btn"></button>\n'},function(t,e,n){var a=n(115);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(6));e.push([t.i,".cur-colors-container {\n  margin: 4px 15px;\n  margin-top: 20px;\n  justify-content: space-between;\n  width: 80px;\n  height: 80px;\n  position: relative;\n  align-self: flex-end;\n\n}\n\n.color-container {\n  width: 50px;\n  height: 50px;\n  border: 3px solid var(--dark-grey);\n  position: relative;\n  background-image: url("+a+');\n  background-color: var(--light-grey);\n  position: absolute;\n\n}\n\n.right-btn.color-container {\n  bottom: 0;\n  right: 0;\n  z-index: 10;\n}\n\n.left-btn.color-container {\n  top: 0;\n  left: 0;\n  z-index: 20;\n}\n\n.color-container:hover {\n  border: 3px solid var(--good-green);\n}\n\n.swap-colors-btn {\n  background-color: var(--dark-grey);\n  width: 30px;\n  height: 30px;\n  border: none;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  color: var(--light-grey);\n}\n\n.swap-colors-btn::before {\n  content: "\\f0ec";\n  font-family: FontAwesome;\n  font-size: 1rem;\n}\n\n.swap-colors-btn:hover {\n  color: var(--good-green);\n}\n\n.color {\n  width: 44px;\n  height: 44px;\n  outline: none;\n  border: none;\n}\n\n.color::-webkit-color-swatch-wrapper {\n  padding: 0;\n}\n\n.color::-webkit-color-swatch {\n  border: none;\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(117);var a,r=n(2),i=(a=n(5))&&a.__esModule?a:{default:a};let o,s,l,d,c,h,u,f,m;e.default=class{constructor(){this.editorState=null,this.changeColorTooltoDOM=null,this.undoRedoTool=new i.default(this.editorState),this.changeToLeftColorHandlerBound=this.changeToLeftColorHandler.bind(this),this.changeToRightColorHandlerBound=this.changeToRightColorHandler.bind(this)}renderAt(t){this.changeColorTooltoDOM=document.createElement("button"),this.changeColorTooltoDOM.classList.add("change-color-tool-button"),t.appendChild(this.changeColorTooltoDOM)}changeToLeftColorHandler(t){if(document.querySelector(".change-color-tool-button").classList.contains("tools-toggle"))for(t.preventDefault(),this.editorState.ctx.fillStyle=this.editorState.leftBtnColor,o=this.editorState.mainCanvas.getBoundingClientRect().left,s=this.editorState.mainCanvas.getBoundingClientRect().top,l=Math.round((t.pageX-o)/this.editorState.canvasZoom-this.editorState.penSize/2),d=Math.round((t.pageY-s)/this.editorState.canvasZoom-this.editorState.penSize/2),u=this.editorState.ctx.getImageData(l,d,1,1).data,c=0;c<this.editorState.mainCanvasWidth;c+=1)for(h=0;h<this.editorState.mainCanvasWidth;h+=1)(f=this.editorState.ctx.getImageData(c,h,1,1).data)[0]===u[0]&&f[1]===u[1]&&f[2]===u[2]&&f[3]===u[3]&&this.editorState.ctx.fillRect(c,h,1,1);m=this.editorState.activeFrameCanvas.dataset.curFrameNum,this.editorState.dataUrls[m-1]=this.editorState.mainCanvas.toDataURL(),this.editorState.activeFrameCtx.clearRect(0,0,96,96),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[m-1],this.editorState.activeFrameCtx,96,96),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,r.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)),this.undoRedoTool.toStepStorage10(this.editorState)}changeToRightColorHandler(t){if(document.querySelector(".change-color-tool-button").classList.contains("tools-toggle"))for(t.preventDefault(),this.editorState.ctx.fillStyle=this.editorState.rightBtnColor,o=this.editorState.mainCanvas.getBoundingClientRect().left,s=this.editorState.mainCanvas.getBoundingClientRect().top,l=Math.round((t.pageX-o)/this.editorState.canvasZoom-this.editorState.penSize/2),d=Math.round((t.pageY-s)/this.editorState.canvasZoom-this.editorState.penSize/2),u=this.editorState.ctx.getImageData(l,d,1,1).data,c=0;c<this.editorState.mainCanvasWidth;c+=1)for(h=0;h<this.editorState.mainCanvasWidth;h+=1)(f=this.editorState.ctx.getImageData(c,h,1,1).data)[0]===u[0]&&f[1]===u[1]&&f[2]===u[2]&&f[3]===u[3]&&this.editorState.ctx.fillRect(c,h,1,1);m=this.editorState.activeFrameCanvas.dataset.curFrameNum,this.editorState.dataUrls[m-1]=this.editorState.mainCanvas.toDataURL(),this.editorState.activeFrameCtx.clearRect(0,0,96,96),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[m-1],this.editorState.activeFrameCtx,96,96),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,r.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)),this.undoRedoTool.toStepStorage10(this.editorState)}setHandlersWith(t){this.editorState=t,document.querySelector(".main-canvas").addEventListener("click",this.changeToLeftColorHandlerBound),document.querySelector(".main-canvas").addEventListener("contextmenu",this.changeToRightColorHandlerBound)}}},function(t,e,n){var a=n(118);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(119));e.push([t.i,".change-color-tool-button {\n  margin: 2px 0;\n  width: 46px;\n  height: 46px;\n  color: var(--pale-green);\n  background-image: url("+a+");\n  background-position: 10px 10px;\n  background-repeat: no-repeat;\n  background-color: var(--dark-grey);\n  border: 2px solid var(--dark-grey);\n}\n\n.change-color-tool-button:hover {\n  background-color: var(--light-grey);\n  border: 2px solid var(--light-grey);\n}\n\n",""])},function(t,e){t.exports="assets/images/change-color.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=n(2),i=(a=n(121))&&a.__esModule?a:{default:a};n(122);let o,s,l,d,c,h,u,f,m,p,g,v,b,y,w=0,S=!1;class x{constructor(){this.content=i.default,this.frameListToDOM=null,this.editorState=null,this.addNewFrameHandlerBound=this.addNewFrameHandler.bind(this),this.delFrameHandlerBound=this.delFrameHandler.bind(this),this.copyFrameHandlerBound=this.copyFrameHandler.bind(this),this.setActiveFrameHandlerBound=this.setActiveFrameHandler.bind(this)}static visibleBtns(t){t.target.dataset.curFrameNum&&(w=t.target.dataset.curFrameNum,p=document.querySelector(`.frame-copy[data-cur-frame-num="${w}"]`),g=document.querySelector(`.frame-del[data-cur-frame-num="${w}"]`),v=document.querySelector(`.frame-swap[data-cur-frame-num="${w}"]`),s=document.querySelector(`.frame[data-cur-frame-num="${w}"]`),p.style.visibility="visible",p.style.cursor="pointer",g.style.visibility="visible",g.style.cursor="pointer",v.style.visibility="visible",v.style.cursor="pointer"),document.querySelector(`.frame[data-cur-frame-num="${w}"]`).addEventListener("mouseleave",x.invisibleBtns)}static invisibleBtns(){p.style.visibility="hidden",g.style.visibility="hidden",v.style.visibility="hidden"}renderAt(t){this.frameListToDOM=document.createElement("div"),this.frameListToDOM.classList.add("frame-list-container-scroller"),this.frameListToDOM.innerHTML=this.content,t.appendChild(this.frameListToDOM)}copyFrameHandler(t){if(w=t.target.dataset.curFrameNum,o=document.querySelector(".frame-list"),d=document.querySelector(`.frame[data-cur-frame-num="${w}"]`),c=document.querySelector(`.frame[data-cur-frame-num="${w}"] #frame-canvas`),t.target===document.querySelector(`.frame-copy[data-cur-frame-num="${w}"]`)&&!1===S){const t=d.cloneNode(!0);o.insertBefore(t,d);for(let t=0;t<o.children.length-1;t+=1)o.children[t].dataset.curFrameNum=`${t+1}`,(m=[].slice.call(o.children[t].children)).forEach(e=>{e.dataset.curFrameNum=`${t+1}`}),document.querySelector(`.frame-number[data-cur-frame-num="${t+1}"]`).innerHTML=`${t+1}`;document.querySelector('.frame[data-is-active="1"]').dataset.isActive="0",document.querySelector('.frame-number[data-is-active="1"]').dataset.isActive="0",document.querySelector(`.frame[data-cur-frame-num="${w}"]`).dataset.isActive="0",document.querySelector(`.frame[data-cur-frame-num="${+w+1}"]`).dataset.isActive="1",document.querySelector(`.frame-number[data-cur-frame-num="${+w+1}"]`).dataset.isActive="1",u=document.querySelector(`.frame[data-cur-frame-num="${w}"] .frame-canvas`),(f=u.getContext("2d")).drawImage(c,0,0),this.editorState.dataUrls.splice(+w-1,0,this.editorState.dataUrls[+w-1]),this.editorState.ctx.clearRect(0,0,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height),(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[+w-1],this.editorState.ctx,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height)}localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,r.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)),this.clearStepCache10(t)}delFrameHandler(t){if(w=t.target.dataset.curFrameNum,o=document.querySelector(".frame-list"),s=document.querySelector(`.frame[data-cur-frame-num="${w}"]`),t.target===document.querySelector(`.frame-del[data-cur-frame-num="${w}"]`)){if(+w==o.children.length-1&&1==+w)return;if(t.target===document.querySelector(`.frame-del[data-cur-frame-num="${w}"]`)&&!1===S){"1"===s.dataset.isActive&&+w!=o.children.length-1&&(document.querySelector(`.frame[data-cur-frame-num="${+w+1}"]`).dataset.isActive="1",document.querySelector(`.frame-number[data-cur-frame-num="${+w+1}"]`).dataset.isActive="1",this.editorState.ctx.clearRect(0,0,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height),(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[+w],this.editorState.ctx,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height)),"1"===s.dataset.isActive&&+w==o.children.length-1&&(document.querySelector(`.frame[data-cur-frame-num="${+w-1}"]`).dataset.isActive="1",document.querySelector(`.frame-number[data-cur-frame-num="${+w-1}"]`).dataset.isActive="1",this.editorState.ctx.clearRect(0,0,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height),(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[w-2],this.editorState.ctx,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height)),o.removeChild(s),this.editorState.dataUrls.splice(+w-1,1);for(let t=0;t<o.children.length-1;t+=1)o.children[t].dataset.curFrameNum=`${t+1}`,(m=[].slice.call(o.children[t].children)).forEach(e=>{e.dataset.curFrameNum=`${t+1}`}),document.querySelector(`.frame-number[data-cur-frame-num="${t+1}"]`).innerHTML=`${t+1}`}}localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,r.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)),this.clearStepCache10(t)}setActiveFrameHandler(t){w=t.target.dataset.curFrameNum,t.target!==document.querySelector(`.frame-del[data-cur-frame-num="${+w}"]`)&&(+w>=0&&t.target!==document.querySelector(`.frame-del[data-cur-frame-num="${w}"]`)&&!1===S&&(document.querySelector('.frame[data-is-active="1"]').dataset.isActive="0",document.querySelector(`.frame[data-cur-frame-num="${+w}"]`).dataset.isActive="1",document.querySelector('.frame-number[data-is-active="1"]').dataset.isActive="0",document.querySelector(`.frame-number[data-cur-frame-num="${+w}"]`).dataset.isActive="1",this.editorState.ctx.clearRect(0,0,this.editorState.mainCanvas.width,this.editorState.mainCanvas.width),(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[+w-1],this.editorState.ctx,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height)),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,r.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth)),this.clearStepCache10(t))}addNewFrameHandler(){o=document.querySelector(".frame-list"),l=document.querySelector(".add-frame"),(h=document.createElement("li")).className="frame",h.dataset.curFrameNum=`${o.children.length}`,h.dataset.isActive="0",h.innerHTML=`<button class="frame-del" data-cur-frame-num="${o.children.length}"></button>\n    <button class="frame-copy" data-cur-frame-num="${o.children.length}"></button>\n    <button class="frame-number" data-cur-frame-num="${o.children.length}" data-is-active="0">${o.children.length}</button>\n    <button class="frame-swap" data-cur-frame-num="${o.children.length}">\n    </button><div class="background" data-cur-frame-num="${o.children.length}"></div>\n    <canvas id="frame-canvas" class="frame-canvas" width="96" height="96" data-cur-frame-num="${o.children.length}"></canvas>`,o.insertBefore(h,l),this.editorState.dataUrls.push(this.editorState.emptyCanvas),localStorage.setItem(`state${this.editorState.mainCanvasWidth}`,(0,r.toLStorage)(this.editorState.emptyCanvas,this.editorState.dataUrls,this.editorState.mainCanvasWidth))}loadFrameListWith(t){if(this.editorState=t,o=document.querySelector(".frame-list"),l=document.querySelector(".add-frame"),this.editorState.ctx.imageSmoothingEnabled=!1,(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[0],this.editorState.ctx,this.editorState.mainCanvas.width,this.editorState.mainCanvas.height),this.editorState.animCanvCtx.imageSmoothingEnabled=!1,(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[0],this.editorState.animCanvCtx,207,207),this.editorState.activeFrameCtx=document.querySelector('.frame-canvas[data-cur-frame-num="1"]').getContext("2d"),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[0],this.editorState.activeFrameCtx,96,96),this.editorState.dataUrls.length>1)for(w=1;w<this.editorState.dataUrls.length;w+=1){(h=document.createElement("li")).className="frame",h.dataset.curFrameNum=`${o.children.length}`,h.dataset.isActive="0",h.innerHTML=`<button class="frame-del" data-cur-frame-num="${o.children.length}"></button>\n        <button class="frame-copy" data-cur-frame-num="${o.children.length}"></button>\n        <button class="frame-number" data-cur-frame-num="${o.children.length}" data-is-active="0">${o.children.length}</button>\n        <button class="frame-swap" data-cur-frame-num="${o.children.length}">\n        </button><div class="background" data-cur-frame-num="${o.children.length}"></div>\n        <canvas id="frame-canvas" class="frame-canvas" width="96" height="96" data-cur-frame-num="${o.children.length}"></canvas>`,o.insertBefore(h,l);const t=(u=document.querySelector(`.frame-canvas[data-cur-frame-num="${o.children.length-1}"]`)).getContext("2d");t.imageSmoothingEnabled=!1,(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[w],t,96,96)}}selectFrameToSwap(t){this.editorState.activeFrameCtx;o=document.querySelector(".frame-list"),t.target.classList.contains("frame-swap")&&!1===S&&(b=t.target.dataset.curFrameNum,S=!0,document.querySelector(`.frame[data-cur-frame-num="${b}"]`).classList.add("to-swap"),document.querySelector(`.frame-swap[data-cur-frame-num="${b}"]`).classList.add("to-swap"),v.classList.add("to-swap"))}selectSecondFrameToSwap(t){const{dataUrls:e}=this.editorState;!0===S&&(y=t.target.dataset.curFrameNum,[e[y-1],e[b-1]]=[e[b-1],e[y-1]],S=!1,this.setActiveFrameHandler(t),this.editorState.activeFrameCtx=document.querySelector(`.frame-canvas[data-cur-frame-num="${b}"]`).getContext("2d"),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,this.editorState.activeFrameCtx.clearRect(0,0,96,96),(0,r.aplyCanvasImageDrawer)(e[b-1],this.editorState.activeFrameCtx,96,96),this.editorState.activeFrameCtx=document.querySelector(`.frame-canvas[data-cur-frame-num="${y}"]`).getContext("2d"),this.editorState.activeFrameCtx.imageSmoothingEnabled=!1,this.editorState.activeFrameCtx.clearRect(0,0,96,96),(0,r.aplyCanvasImageDrawer)(e[y-1],this.editorState.activeFrameCtx,96,96),document.querySelector(`.frame[data-cur-frame-num="${b}"]`).classList.remove("to-swap"),document.querySelector(`.frame-swap[data-cur-frame-num="${b}"]`).classList.remove("to-swap"),v.classList.remove("to-swap"))}clearStepCache10(t){t.target.classList.contains("add")||(this.editorState.cacheStep=1,this.editorState.prevStepCache10=[this.editorState.dataUrls[document.querySelector('.frame[data-is-active="1"]').dataset.curFrameNum-1]],document.querySelector(".undo").classList.remove("active"),document.querySelector(".redo").classList.remove("active"))}adjustWith(t){this.editorState=t,document.querySelector(".frame-list").addEventListener("mouseover",x.visibleBtns),document.querySelector(".add-frame").addEventListener("mouseup",this.addNewFrameHandlerBound),document.querySelector(".frame-list").addEventListener("mouseup",this.delFrameHandlerBound),document.querySelector(".frame-list").addEventListener("mouseup",this.copyFrameHandlerBound),document.querySelector(".frame-list").addEventListener("click",this.setActiveFrameHandlerBound),document.querySelector(".frame-list").addEventListener("click",this.selectSecondFrameToSwap.bind(this)),document.querySelector(".frame-list").addEventListener("click",this.selectFrameToSwap.bind(this))}}e.default=x},function(t,e){t.exports='  <div class="frame-list-container">\n    <ul class="frame-list">\n      <li class="frame" data-cur-frame-num="1" data-is-active="1">\n        <button class="frame-del" data-cur-frame-num="1"></button>\n        <button class="frame-copy" data-cur-frame-num="1"></button>\n        <button class="frame-number" data-cur-frame-num="1" data-is-active="1">1</button>\n        <button class="frame-swap" data-cur-frame-num="1"></button>\n        <div class="background">\n        </div>\n        <canvas id="frame-canvas" class="frame-canvas" data-cur-frame-num="1" width="96" height="96"></canvas>\n      </li>\n      <div class="add-frame add">\n        <div class="add-frame-ico add"></div>\n        <div class="add-frame-text add">NEW FRAME</div>\n      </div>\n    </ul>\n  </div>\n'},function(t,e,n){var a=n(123);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(6));e.push([t.i,'::-webkit-scrollbar {\n  width: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: var(--middle-grey);\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--light-grey);\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: var(--good-green);\n}\n\n.fa {\n  color: var(--pale-red);\n}\n\n.frame-list-container-scroller {\n  position: relative;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  box-sizing: content-box;\n  width: 118px;\n  height: calc(100vh - 3rem - 10px);\n  text-align: left;\n  overflow-y: auto;\n}\n\n.frame-list-container {\n  box-sizing: content-box;\n  background: var(--light-grey);\n  width: 102px;\n}\n\n.frame-list {\n  position: absolute;\n  box-sizing: content-box;\n  width: 106px;\n  height: calc(100vh - 3rem - 10px);\n  list-style: none;\n  margin: 0 auto;\n  padding: 0 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: flex-start;\n}\n\n.frame {\n  box-sizing: content-box;\n  width: 96px;\n  height: 96px;\n  position: relative;\n  margin-bottom: 5px;\n  border: 3px solid var(--light-grey);\n  display: block;\n}\n\n.frame:hover {\n  border: 3px solid var(--pale-green);\n}\n\n.frame[data-is-active="1"] {\n  border: 3px solid var(--good-green);\n}\n\n.frame-canvas {\n  box-sizing: content-box;\n  background-image: url('+a+');\n  background-color: var(--light-grey);\n  margin: 0 0;\n  image-rendering: pixelated;\n  position: absolute;\n  top: 0;\n}\n\n.add-frame {\n  box-sizing: content-box;\n  color: #ffffff;\n  background-color: var(--middle-grey);\n  font-family: "Ubuntu Condensed", sans-serif;\n  text-align: left;\n  font-size: 14px;\n  width: 96px;\n  height: 38px;\n  display: flex;\n  border: 3px solid var(--light-grey);\n  cursor: pointer;\n}\n\n.add-frame:hover {\n  box-sizing: content-box;\n  border: 3px solid var(--good-green);\n}\n\n\n.add-frame-ico {\n  width: 30px;\n  height: 30px;\n  align-self: center;\n  margin-left: 3px;\n  padding: 3px 6px;\n  color: #ccfcccd9;\n}\n\n.add-frame-ico::before {\n  content: "\\f067";\n  font-family: FontAwesome;\n  font-size: 1.5rem;\n}\n\n.add-frame-text {\n  box-sizing: border-box;\n  color: #ccfcccd9;\n  padding: 0 7px;\n  width: calc(100% - 26px);\n  align-self: center;\n  text-align: right;\n  word-wrap: break-word;\n}\n\n.frame-del {\n  visibility: hidden;\n  z-index: 10;\n  background-color: #ccfcccd9;\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 1px 6px;\n}\n\n.frame-del::before {\n  content: "\\f014";\n  font-family: FontAwesome;\n  font-size: 1rem;\n  color: var(--dark-green);\n}\n\n.frame-copy {\n  visibility: hidden;\n  z-index: 10;\n  background-color: #ccfcccd9;\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  padding: 1px 6px;\n}\n\n.frame-copy::before {\n  content: "\\f0c5";\n  font-family: FontAwesome;\n  font-size: 1rem;\n  color: var(--dark-green);\n}\n\n.frame-swap {\n  visibility: hidden;\n  z-index: 10;\n  background-color: #ccfcccd9;\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  padding: 1px 6px;\n}\n\n.frame-swap::before {\n  content: "\\f0ec";\n  font-family: FontAwesome;\n  writing-mode: vertical-rl;\n  font-size: 1rem;\n  color: var(--dark-green);\n}\n\n.frame-number {\n  z-index: 10;\n  background-color: var(--pale-grey);\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  font-family: "Ubuntu Condensed", sans-serif;\n  font-size: 21px;\n  color: var(--dark-grey);\n  padding: 1px 6px;\n}\n\n.frame-number[data-is-active="1"] {\n  background-color: var(--good-green);\n}\n\n.frame-list .frame.to-swap {\n  border: 3px solid var(--bright-red);\n  background-color: var(--pale-red);\n}\n\n\n.frame-swap.to-swap::before {\n  color: var(--bright-red);\n}\n\n.frame-swap.to-swap {\n  background-color: var(--pale-red)\n}\n\n.frame-swap.to-swap {\n  visibility: visible !important;\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n(125));n(126);var r=o(n(128)),i=o(n(5));function o(t){return t&&t.__esModule?t:{default:t}}e.default=class{constructor(){this.content=a.default,this.centralWindow=null,this.canvasZoomTool=new r.default,this.undoRedoTool=new i.default}renderAt(t){this.centralWindowToDOM=document.createElement("div"),this.centralWindowToDOM.classList.add("central-window"),this.centralWindowToDOM.innerHTML=this.content,t.appendChild(this.centralWindowToDOM),this.undoRedoTool.renderUndoRedoToolAt(document.querySelector(".canvas-panel")),this.canvasZoomTool.renderDefaultZoomBtnAt(document.querySelector(".canvas-panel"))}adjustWith(t){this.canvasZoomTool.setHandlersWith(t)}}},function(t,e){t.exports='<div class="canvas-panel"></div>\n<div class="drawing-window">\n  <div class="main-canvas-container">\n      <canvas id="work-canvas" class="work-canvas" width="32" height="32"></canvas>\n      <canvas id="main-canvas" class="main-canvas" width="32" height="32"></canvas>\n  </div>\n</div>\n'},function(t,e,n){var a=n(127);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(6));e.push([t.i,".central-window {\n  z-index: 5;\n  height: calc(100vh - 3rem - 10px);\n  width: calc(100vw - 472px);\n  background-color: var(--middle-grey);\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: flex-start;\n  position: relative;\n}\n\n.canvas-panel {\n  width: 100%;\n  height: 10px;\n  position: relative;\n}\n\n.drawing-window {\n  width: 100%;\n  height: calc(100% - 3rem);\n  display: flex;\n  justify-content: center;\n  position: relative;\n}\n\n.main-canvas-container {\n  justify-self: right;\n  position: relative;\n  align-self: center;\n  height: 384px;\n  width: 384px;\n  --max-size: calc(100vw - 228px - 228px - 16px);\n  max-width: var(--max-size);\n  max-height: var(--max-size);\n}\n\n.work-canvas {\n  position: absolute;\n  top:0;\n  left:0;\n  height: 100%;\n  width: 100%;\n  image-rendering: pixelated;\n}\n\n.activate {\n  z-index: 100;\n}\n\n.main-canvas {\n  z-index: 20;\n  position: absolute;\n  top:0;\n  left:0;\n  background-image: url("+a+");\n  background-color: var(--light-grey);\n  height: 100%;\n  width: 100%;\n  image-rendering: pixelated;\n}\n\n\n",""])},function(t,e,n){"use strict";let a,r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(129);e.default=class{constructor(){this.CanvasZoomTooltoDom=null,this.editorState=null,this.mainCanvasZoomHandlerBound=this.mainCanvasZoomHandler.bind(this),this.toDefaultZoomHandlerBound=this.toDefaultZoomHandler.bind(this)}renderDefaultZoomBtnAt(t){this.CanvasZoomTooltoDom=document.createElement("button"),this.CanvasZoomTooltoDom.classList.add("default-zoom"),this.CanvasZoomTooltoDom.innerHTML="DEFAULT ZOOM X12",t.appendChild(this.CanvasZoomTooltoDom)}mainCanvasZoomHandler(t){t.preventDefault(),a=t.deltaY>=0?16:-16,r=+getComputedStyle(document.querySelector(".drawing-window")).height.slice(0,-2),i=+getComputedStyle(document.querySelector(".drawing-window")).width.slice(0,-2),+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)===this.editorState.mainCanvas.height&&t.deltaY>0?(document.querySelector(".main-canvas-container").style.width=`${+getComputedStyle(document.querySelector(".main-canvas-container")).width.slice(0,-2)+a}px`,document.querySelector(".main-canvas-container").style.height=`${+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)+a}px`):i>r&&+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)>=this.editorState.mainCanvas.height+Math.abs(a)&&+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)+t.deltaY<=r?(document.querySelector(".main-canvas-container").style.maxHeight="calc(100vh - 7rem)",document.querySelector(".main-canvas-container").style.maxWidth="calc(100vh - 7rem)",document.querySelector(".main-canvas-container").style.width=`${+getComputedStyle(document.querySelector(".main-canvas-container")).width.slice(0,-2)+a}px`,document.querySelector(".main-canvas-container").style.height=`${+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)+a}px`):i<r&&+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)>=this.editorState.mainCanvas.height+Math.abs(a)&&+getComputedStyle(document.querySelector(".main-canvas-container")).width.slice(0,-2)<=i&&(document.querySelector(".main-canvas-container").style.maxHeight="",document.querySelector(".main-canvas-container").style.maxWidth="",document.querySelector(".main-canvas-container").style.width=`${+getComputedStyle(document.querySelector(".main-canvas-container")).width.slice(0,-2)+a}px`,document.querySelector(".main-canvas-container").style.height=`${+getComputedStyle(document.querySelector(".main-canvas-container")).height.slice(0,-2)+a}px`),this.editorState.canvasZoom=+getComputedStyle(document.querySelector(".main-canvas-container")).width.slice(0,-2)/this.editorState.mainCanvas.width}toDefaultZoomHandler(){document.querySelector(".main-canvas-container").style.width="384px",document.querySelector(".main-canvas-container").style.height="384px",32==+this.editorState.mainCanvasWidth?(this.editorState.canvasZoom=12,this.CanvasZoomTooltoDom.innerHTML="DEFAULT ZOOM X12"):64==+this.editorState.mainCanvasWidth?(this.editorState.canvasZoom=6,this.CanvasZoomTooltoDom.innerHTML="DEFAULT ZOOM X6"):128==+this.editorState.mainCanvasWidth&&(this.editorState.canvasZoom=3,this.CanvasZoomTooltoDom.innerHTML="DEFAULT ZOOM X3")}setHandlersWith(t){this.editorState=t,document.querySelector(".drawing-window").addEventListener("wheel",this.mainCanvasZoomHandlerBound),document.querySelector(".default-zoom").addEventListener("click",this.toDefaultZoomHandlerBound)}}},function(t,e,n){var a=n(130);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".default-zoom {\n  z-index: 30;\n  box-sizing: content-box;\n  margin: 1px;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 62px;\n  height: 38px;\n  text-align: center;\n  color: var(--pale-green);\n  background-color: var(--dark-grey);\n  font-family: 'Ubuntu Condensed', sans-serif;\n  font-size: 14px;\n  line-height: 17.5px;\n  border: 3px solid var(--light-grey);\n}\n\n.default-zoom:hover {\n  border-color: var(--good-green);\n  cursor: pointer;\n}\n",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=n(2),i=(a=n(132))&&a.__esModule?a:{default:a};n(133);let o,s,l=0,d=0,c=0,h=0,u=0,f=0,m=207;e.default=class{constructor(){this.content=i.default,this.editorState=null,this.renderAnimationBound=this.renderAnimation.bind(this),this.setAnimationRateBound=this.setAnimationRate.bind(this),this.toggleFullScreenBound=this.toggleFullScreen.bind(this)}renderAt(t){const e=document.createElement("div");e.classList.add("preview-panel"),e.innerHTML=this.content,t.appendChild(e)}cacheShots(){o=[];for(let t=0;t<this.editorState.dataUrls.length;t+=1)(s=new Image).src=this.editorState.dataUrls[t],o.push(s)}drawAnimationShot(){this.cacheShots(),this.editorState.animCanvCtx.imageSmoothingEnabled=!1,this.editorState.animCanvCtx.clearRect(0,0,m,m),o[f]?this.editorState.animCanvCtx.drawImage(o[f],0,0,m,m):(0,r.aplyCanvasImageDrawer)(this.editorState.dataUrls[f],this.editorState.animCanvCtx,m,m),f>=this.editorState.dataUrls.length-1?f=0:f+=1}renderAnimation(){if(this.editorState.previewRAFid=requestAnimationFrame(this.renderAnimationBound),0===l&&cancelAnimationFrame(this.editorState.previewRAFid),d=Date.now(),(h=d-c)>u){if(this.drawAnimationShot(),1===this.editorState.dataUrls.length)return void cancelAnimationFrame(this.previewRAFid);c=d-h%u}}setAnimationRate(){1!==this.editorState.dataUrls.length&&(l=+document.querySelector(".select-fps").value,document.querySelector(".fps").innerHTML=`${l} FPS`,c=Date.now(),u=1e3/l,this.renderAnimation())}toggleFullScreen(){document.fullscreenElement?(m=207,this.editorState.animCanv.width=207,this.editorState.animCanv.height=207,this.editorState.animCanvCtx.imageSmoothingEnabled=!1,document.querySelector(".preview").style.height="207px",document.querySelector(".preview").style.width="",this.setAnimationRate(),document.exitFullscreen(),this.fs=!1):(this.fs=!0,m=384,this.editorState.animCanv.width=m,this.editorState.animCanv.height=m,document.querySelector(".preview").style.height="384px",document.querySelector(".preview").style.width="384px",this.setAnimationRate(),document.querySelector(".preview-container").requestFullscreen())}fsZoomHandler(t){if(document.fullscreenElement){const e=t.deltaY>0?16:-16;+getComputedStyle(document.querySelector(".preview")).height.slice(0,-2)>=this.editorState.mainCanvasWidth+Math.abs(e)&&+getComputedStyle(document.querySelector(".preview")).height.slice(0,-2)+t.deltaY<=window.innerHeight-30&&(document.querySelector(".main-canvas-container").style.maxHeight="calc(100vh - 5px)",document.querySelector(".main-canvas-container").style.maxWidth="calc(100vh - 5px)",document.querySelector(".preview").style.height=`${+getComputedStyle(document.querySelector(".preview")).height.slice(0,-2)+e}px`,document.querySelector(".preview").style.width=`${+getComputedStyle(document.querySelector(".preview")).width.slice(0,-2)+e}px`)}}adjustWith(t){this.editorState=t,document.querySelector(".select-fps").addEventListener("change",this.setAnimationRateBound),document.querySelector(".to-fs-mode-btn").addEventListener("mouseup",this.toggleFullScreenBound),document.addEventListener("wheel",this.fsZoomHandler.bind(this))}}},function(t,e){t.exports='  <div class="preview-container">\n    <div class="to-fs-mode-btn">\n    </div>\n\n    <canvas id="anim-canvas" class="preview" width="207" height="207"></canvas>\n\n    <div class="fps-controls">\n      <span class="fps">0 FPS</span>\n      <input class="select-fps" type="range" min="0" max="24" value="0">\n    </div>\n  </div>\n'},function(t,e,n){var a=n(134);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(0)(!1);var a=n(3)(n(6));e.push([t.i,".preview-panel {\n  width: 228px;\n  height: calc(100vh - 3rem - 10px);\n  margin-top: 4px;\n}\n\n.preview-container {\n  position: relative;\n  display: flex;\n  width: 221px;\n  height: 271px;\n  background: var(--dark-grey);\n  margin-top: 1px;\n  margin-left: 1px;\n  border: 7px solid var(--light-grey);\n}\n\n.preview {\n  background-image: url("+a+');\n  background-color: var(--middle-grey);\n  width: 100%;\n  height: 207px;\n  image-rendering: pixelated;\n}\n\n\n.preview-container:-webkit-full-screen {\n  align-items: center;\n  justify-content: center;\n  background: var(--dark-grey);\n  border: none;\n}\n\n.to-fs-mode-btn {\n  z-index: 10;\n  background: transparent;\n  width: 26px;\n  height: 22px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  box-sizing: border-box;\n  margin: 3px;\n}\n\n.to-fs-mode-btn::before {\n  content: "\\f26c";\n  font-family: FontAwesome;\n  font-size: 22px;\n  font-weight: 600;\n  text-shadow: 0.5px -0.7px 0px #ffffff;\n}\n\n.fps-controls {\n  height: 50px;\n  display: flex;\n  justify-content: left;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n}\n\n.fps {\n  width: 55px;\n  text-align: center;\n  padding: 0 auto;\n  margin: auto 7px;\n  color: var(--good-green);\n  font-family: "Ubuntu Condensed", "Arial", sans-serif;\n  font-size: 14px;\n}\n\n.fps:-webkit-full-screen {\n  font-size: 48px;\n}\n\n.select-fps {\n  width: calc(100% - 84px);\n}\n',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(t,e){this.penSize=1,this.canvasZoom=e,this.leftBtnColor="#41b100",this.rightBtnColor="#ccfccc",this.mainCanvasWidth=t,this.mainCanvasHeight=t,this.workCanvas=null,this.workCtx=null,this.mainCanvas=null,this.ctx=null,this.emptyCanvas=null,this.dataUrls=[],this.activeFrameCanvas=null,this.activeFrameCtx=null,this.animCanv=null,this.animCanvCtx=null,this.previewRAFid=null,this.tempDitheringCanv=null,this.prevStepCache10=[],this.cacheStep=1}}}]);